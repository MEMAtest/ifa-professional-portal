"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/notifications/unread-count/route";
exports.ids = ["app/api/notifications/unread-count/route"];
exports.modules = {

/***/ "./action-async-storage.external?8dda":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external?3d59":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external?16bc":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnotifications%2Funread-count%2Froute&page=%2Fapi%2Fnotifications%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Funread-count%2Froute.ts&appDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnotifications%2Funread-count%2Froute&page=%2Fapi%2Fnotifications%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Funread-count%2Froute.ts&appDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_adeomosanya_Documents_ifa_professional_portal_ifa_platform_src_app_api_notifications_unread_count_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/notifications/unread-count/route.ts */ \"(rsc)/./src/app/api/notifications/unread-count/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/notifications/unread-count/route\",\n        pathname: \"/api/notifications/unread-count\",\n        filename: \"route\",\n        bundlePath: \"app/api/notifications/unread-count/route\"\n    },\n    resolvedPagePath: \"/Users/adeomosanya/Documents/ifa-professional-portal/ifa-platform/src/app/api/notifications/unread-count/route.ts\",\n    nextConfigOutput,\n    userland: _Users_adeomosanya_Documents_ifa_professional_portal_ifa_platform_src_app_api_notifications_unread_count_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/notifications/unread-count/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZub3RpZmljYXRpb25zJTJGdW5yZWFkLWNvdW50JTJGcm91dGUmcGFnZT0lMkZhcGklMkZub3RpZmljYXRpb25zJTJGdW5yZWFkLWNvdW50JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbm90aWZpY2F0aW9ucyUyRnVucmVhZC1jb3VudCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFkZW9tb3NhbnlhJTJGRG9jdW1lbnRzJTJGaWZhLXByb2Zlc3Npb25hbC1wb3J0YWwlMkZpZmEtcGxhdGZvcm0lMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYWRlb21vc2FueWElMkZEb2N1bWVudHMlMkZpZmEtcHJvZmVzc2lvbmFsLXBvcnRhbCUyRmlmYS1wbGF0Zm9ybSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpRTtBQUM5STtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5uZXRpYy1wbGF0Zm9ybS8/YjA5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYWRlb21vc2FueWEvRG9jdW1lbnRzL2lmYS1wcm9mZXNzaW9uYWwtcG9ydGFsL2lmYS1wbGF0Zm9ybS9zcmMvYXBwL2FwaS9ub3RpZmljYXRpb25zL3VucmVhZC1jb3VudC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbm90aWZpY2F0aW9ucy91bnJlYWQtY291bnQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ub3RpZmljYXRpb25zL3VucmVhZC1jb3VudFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbm90aWZpY2F0aW9ucy91bnJlYWQtY291bnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYWRlb21vc2FueWEvRG9jdW1lbnRzL2lmYS1wcm9mZXNzaW9uYWwtcG9ydGFsL2lmYS1wbGF0Zm9ybS9zcmMvYXBwL2FwaS9ub3RpZmljYXRpb25zL3VucmVhZC1jb3VudC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ub3RpZmljYXRpb25zL3VucmVhZC1jb3VudC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnotifications%2Funread-count%2Froute&page=%2Fapi%2Fnotifications%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Funread-count%2Froute.ts&appDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/notifications/unread-count/route.ts":
/*!*********************************************************!*\
  !*** ./src/app/api/notifications/unread-count/route.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_auth_apiAuth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth/apiAuth */ \"(rsc)/./src/lib/auth/apiAuth.ts\");\n/* harmony import */ var _lib_notifications_notificationService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/notifications/notificationService */ \"(rsc)/./src/lib/notifications/notificationService.ts\");\n\n\n\nconst dynamic = \"force-dynamic\";\n/**\n * GET /api/notifications/unread-count\n * Get the number of unread notifications for the current user\n */ async function GET(request) {\n    try {\n        const authResult = await (0,_lib_auth_apiAuth__WEBPACK_IMPORTED_MODULE_1__.getAuthContext)(request);\n        if (!authResult.success || !authResult.context) {\n            return authResult.response ?? next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Pass firmId for firm-wide notifications\n        const count = await _lib_notifications_notificationService__WEBPACK_IMPORTED_MODULE_2__.NotificationService.getUnreadCount(authResult.context.userId, authResult.context.firmId ?? undefined);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            count\n        });\n    } catch (error) {\n        console.error(\"GET /api/notifications/unread-count error:\", error);\n        const isDev = \"development\" === \"development\";\n        const message = error instanceof Error ? error.message : \"Internal server error\";\n        const code = error?.code;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: isDev ? message : \"Internal server error\",\n            ...isDev && code ? {\n                code\n            } : {}\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ub3RpZmljYXRpb25zL3VucmVhZC1jb3VudC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RDtBQUNKO0FBQzBCO0FBRXRFLE1BQU1HLFVBQVUsZ0JBQWU7QUFFdEM7OztDQUdDLEdBQ00sZUFBZUMsSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLGFBQWEsTUFBTUwsaUVBQWNBLENBQUNJO1FBQ3hDLElBQUksQ0FBQ0MsV0FBV0MsT0FBTyxJQUFJLENBQUNELFdBQVdFLE9BQU8sRUFBRTtZQUM5QyxPQUFPRixXQUFXRyxRQUFRLElBQUlULGtGQUFZQSxDQUFDVSxJQUFJLENBQzdDO2dCQUFFQyxPQUFPO1lBQWUsR0FDeEI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDBDQUEwQztRQUMxQyxNQUFNQyxRQUFRLE1BQU1YLHVGQUFtQkEsQ0FBQ1ksY0FBYyxDQUNwRFIsV0FBV0UsT0FBTyxDQUFDTyxNQUFNLEVBQ3pCVCxXQUFXRSxPQUFPLENBQUNRLE1BQU0sSUFBSUM7UUFHL0IsT0FBT2pCLGtGQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBRUc7UUFBTTtJQUNuQyxFQUFFLE9BQU9GLE9BQU87UUFDZE8sUUFBUVAsS0FBSyxDQUFDLDhDQUE4Q0E7UUFDNUQsTUFBTVEsUUFBUUMsa0JBQXlCO1FBQ3ZDLE1BQU1DLFVBQVVWLGlCQUFpQlcsUUFBUVgsTUFBTVUsT0FBTyxHQUFHO1FBQ3pELE1BQU1FLE9BQVFaLE9BQWVZO1FBQzdCLE9BQU92QixrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUNFQyxPQUFPUSxRQUFRRSxVQUFVO1lBQ3pCLEdBQUlGLFNBQVNJLE9BQU87Z0JBQUVBO1lBQUssSUFBSSxDQUFDLENBQUM7UUFDbkMsR0FDQTtZQUFFWCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5uZXRpYy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL25vdGlmaWNhdGlvbnMvdW5yZWFkLWNvdW50L3JvdXRlLnRzPzRiYmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgZ2V0QXV0aENvbnRleHQgfSBmcm9tICdAL2xpYi9hdXRoL2FwaUF1dGgnXG5pbXBvcnQgeyBOb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnQC9saWIvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25TZXJ2aWNlJ1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJ1xuXG4vKipcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvdW5yZWFkLWNvdW50XG4gKiBHZXQgdGhlIG51bWJlciBvZiB1bnJlYWQgbm90aWZpY2F0aW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IGdldEF1dGhDb250ZXh0KHJlcXVlc3QpXG4gICAgaWYgKCFhdXRoUmVzdWx0LnN1Y2Nlc3MgfHwgIWF1dGhSZXN1bHQuY29udGV4dCkge1xuICAgICAgcmV0dXJuIGF1dGhSZXN1bHQucmVzcG9uc2UgPz8gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIFBhc3MgZmlybUlkIGZvciBmaXJtLXdpZGUgbm90aWZpY2F0aW9uc1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgTm90aWZpY2F0aW9uU2VydmljZS5nZXRVbnJlYWRDb3VudChcbiAgICAgIGF1dGhSZXN1bHQuY29udGV4dC51c2VySWQsXG4gICAgICBhdXRoUmVzdWx0LmNvbnRleHQuZmlybUlkID8/IHVuZGVmaW5lZFxuICAgIClcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNvdW50IH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR0VUIC9hcGkvbm90aWZpY2F0aW9ucy91bnJlYWQtY291bnQgZXJyb3I6JywgZXJyb3IpXG4gICAgY29uc3QgaXNEZXYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXG4gICAgY29uc3QgY29kZSA9IChlcnJvciBhcyBhbnkpPy5jb2RlXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjogaXNEZXYgPyBtZXNzYWdlIDogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgICAgIC4uLihpc0RldiAmJiBjb2RlID8geyBjb2RlIH0gOiB7fSlcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRBdXRoQ29udGV4dCIsIk5vdGlmaWNhdGlvblNlcnZpY2UiLCJkeW5hbWljIiwiR0VUIiwicmVxdWVzdCIsImF1dGhSZXN1bHQiLCJzdWNjZXNzIiwiY29udGV4dCIsInJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY291bnQiLCJnZXRVbnJlYWRDb3VudCIsInVzZXJJZCIsImZpcm1JZCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJpc0RldiIsInByb2Nlc3MiLCJtZXNzYWdlIiwiRXJyb3IiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/notifications/unread-count/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/apiAuth.ts":
/*!*********************************!*\
  !*** ./src/lib/auth/apiAuth.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROLES: () => (/* binding */ ROLES),\n/* harmony export */   canAccessClient: () => (/* binding */ canAccessClient),\n/* harmony export */   canModifyDocument: () => (/* binding */ canModifyDocument),\n/* harmony export */   checkPermission: () => (/* binding */ checkPermission),\n/* harmony export */   getAdvisorProfile: () => (/* binding */ getAdvisorProfile),\n/* harmony export */   getAuthContext: () => (/* binding */ getAuthContext),\n/* harmony export */   getFirmDetails: () => (/* binding */ getFirmDetails),\n/* harmony export */   getValidatedFirmId: () => (/* binding */ getValidatedFirmId),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isAdvisor: () => (/* binding */ isAdvisor),\n/* harmony export */   isCompliance: () => (/* binding */ isCompliance),\n/* harmony export */   requireFirmId: () => (/* binding */ requireFirmId),\n/* harmony export */   requirePermission: () => (/* binding */ requirePermission),\n/* harmony export */   validateAuth: () => (/* binding */ validateAuth),\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n// ================================================================\n// API Authentication Helper\n// Provides consistent auth checking across all API routes\n// ================================================================\n\n\n\n// ================================================================\n// AUTH HELPER FUNCTIONS\n// ================================================================\nfunction getDefaultFirmId() {\n    const envDefaultFirmId = process.env.DEFAULT_FIRM_ID ?? process.env.NEXT_PUBLIC_DEFAULT_FIRM_ID;\n    return typeof envDefaultFirmId === \"string\" && envDefaultFirmId.trim() ? envDefaultFirmId.trim() : null;\n}\nfunction normalizeOptionalString(value) {\n    if (typeof value !== \"string\") return null;\n    const trimmed = value.trim();\n    return trimmed ? trimmed : null;\n}\nfunction normalizeFirmId(value) {\n    const trimmed = normalizeOptionalString(value);\n    if (!trimmed) return null;\n    // Avoid legacy placeholder values leaking into firm-scoped queries.\n    if (trimmed === \"default-firm\") return null;\n    return trimmed;\n}\nfunction decodeBase64Url(value) {\n    try {\n        const base64 = value.replace(/-/g, \"+\").replace(/_/g, \"/\");\n        const padded = base64 + \"=\".repeat((4 - base64.length % 4) % 4);\n        if (typeof Buffer !== \"undefined\") {\n            return Buffer.from(padded, \"base64\").toString(\"utf8\");\n        }\n        if (typeof globalThis.atob === \"function\") {\n            return globalThis.atob(padded);\n        }\n    } catch  {\n    // ignore\n    }\n    return null;\n}\nfunction extractAccessTokenFromSessionPayload(payload) {\n    if (!payload || typeof payload !== \"object\") return null;\n    const obj = payload;\n    const direct = normalizeOptionalString(obj.access_token);\n    if (direct) return direct;\n    const current = normalizeOptionalString(obj.currentSession?.access_token);\n    if (current) return current;\n    const nested = normalizeOptionalString(obj.data?.session?.access_token);\n    if (nested) return nested;\n    return null;\n}\nfunction getSupabaseProjectRefFromEnv() {\n    const url = \"https://maandodhonjolrmcxivo.supabase.co\";\n    if (!url) return null;\n    try {\n        const hostname = new URL(url).hostname;\n        const ref = hostname.split(\".\")[0];\n        return ref ? ref : null;\n    } catch  {\n        return null;\n    }\n}\nfunction parseCookieHeader(cookieHeader) {\n    if (!cookieHeader) return {};\n    const result = {};\n    const parts = cookieHeader.split(\";\");\n    for (const part of parts){\n        const [rawName, ...rest] = part.trim().split(\"=\");\n        const name = rawName?.trim();\n        if (!name) continue;\n        const value = rest.join(\"=\");\n        result[name] = value;\n    }\n    return result;\n}\nfunction readChunkedCookie(cookies, key) {\n    if (cookies[key]) return cookies[key];\n    const chunks = [];\n    for (const [name, value] of Object.entries(cookies)){\n        if (!name.startsWith(`${key}.`)) continue;\n        const suffix = name.slice(key.length + 1);\n        const idx = Number.parseInt(suffix, 10);\n        if (Number.isNaN(idx)) continue;\n        chunks.push({\n            idx,\n            value\n        });\n    }\n    if (chunks.length === 0) return null;\n    chunks.sort((a, b)=>a.idx - b.idx);\n    return chunks.map((c)=>c.value).join(\"\");\n}\nfunction extractAccessTokenFromSupabaseCookie(request) {\n    const cookieHeader = request.headers.get(\"cookie\");\n    if (!cookieHeader) return null;\n    const cookies = parseCookieHeader(cookieHeader);\n    const ref = getSupabaseProjectRefFromEnv();\n    const primaryKey = ref ? `sb-${ref}-auth-token` : null;\n    const candidateKeys = [];\n    if (primaryKey) candidateKeys.push(primaryKey);\n    for (const name of Object.keys(cookies)){\n        if (!name.startsWith(\"sb-\")) continue;\n        if (!name.includes(\"auth-token\")) continue;\n        // Use the base key (without .0/.1...) so we can reassemble chunks.\n        const base = name.split(\".\")[0];\n        if (!candidateKeys.includes(base)) candidateKeys.push(base);\n    }\n    for (const key of candidateKeys){\n        const raw = readChunkedCookie(cookies, key);\n        if (!raw) continue;\n        // supabase/ssr prefixes base64url-encoded cookie values with \"base64-\".\n        const decodedValue = raw.startsWith(\"base64-\") ? decodeBase64Url(raw.slice(\"base64-\".length)) : raw;\n        if (!decodedValue) continue;\n        const parsed = (()=>{\n            try {\n                return JSON.parse(decodedValue);\n            } catch  {\n                return null;\n            }\n        })();\n        const token = extractAccessTokenFromSessionPayload(parsed);\n        if (token) return token;\n    }\n    return null;\n}\n/**\n * Get authenticated user context for API routes\n * Returns user info and related context (firm, advisor, etc.)\n */ async function getAuthContext(request) {\n    try {\n        const authHeader = request.headers.get(\"authorization\") ?? request.headers.get(\"Authorization\");\n        const bearerToken = authHeader?.startsWith(\"Bearer \") ? authHeader.slice(\"Bearer \".length).trim() : null;\n        const cookieAccessToken = extractAccessTokenFromSupabaseCookie(request);\n        // Prefer cookie-based auth (best for SSR), but allow a Bearer token fallback\n        // to support clients that store sessions outside cookies.\n        let supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        let user = null;\n        let authError = null;\n        const cookieResult = await supabase.auth.getUser();\n        user = cookieResult.data.user;\n        authError = cookieResult.error;\n        const tokenCandidates = [\n            bearerToken,\n            cookieAccessToken\n        ].filter((value)=>typeof value === \"string\" && value.trim().length > 0);\n        if ((!user || authError) && tokenCandidates.length > 0) {\n            const url = \"https://maandodhonjolrmcxivo.supabase.co\";\n            const anonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYW5kb2Rob25qb2xybWN4aXZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NDg3NjIsImV4cCI6MjA2NDEyNDc2Mn0.Ku89ldqO_b1ptFBQFtQPhzmmnrg04LpcMeCw21sjlAE\";\n            if (!url || !anonKey) {\n                return {\n                    success: false,\n                    error: \"Authentication failed\",\n                    response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: \"Authentication error\",\n                        message: \"Supabase credentials are not configured\"\n                    }, {\n                        status: 500\n                    })\n                };\n            }\n            for (const token of tokenCandidates){\n                const tokenClient = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(url, anonKey, {\n                    global: {\n                        headers: {\n                            Authorization: `Bearer ${token}`\n                        }\n                    },\n                    auth: {\n                        persistSession: false,\n                        autoRefreshToken: false,\n                        detectSessionInUrl: false\n                    }\n                });\n                const tokenResult = await tokenClient.auth.getUser(token);\n                user = tokenResult.data.user;\n                authError = tokenResult.error;\n                // Repoint supabase client to one that will include the token for DB reads.\n                if (user) {\n                    supabase = tokenClient;\n                    break;\n                }\n            }\n        }\n        if (authError || !user) {\n            return {\n                success: false,\n                error: \"Unauthorized - Please log in\",\n                response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Unauthorized\",\n                    message: \"Please log in to access this resource\"\n                }, {\n                    status: 401\n                })\n            };\n        }\n        // Get user profile with role and firm info\n        const { data: profile } = await supabase.from(\"profiles\").select(\"role, firm_id, advisor_id\").eq(\"id\", user.id).single();\n        const metadata = user.user_metadata ?? {};\n        const metadataRole = metadata.role ?? null;\n        const metadataFirmId = metadata.firm_id ?? metadata.firmId ?? null;\n        const metadataAdvisorId = metadata.advisor_id ?? metadata.advisorId ?? null;\n        const defaultFirmId = getDefaultFirmId();\n        const firmId = normalizeFirmId(profile?.firm_id) ?? normalizeFirmId(metadataFirmId) ?? normalizeFirmId(defaultFirmId);\n        const context = {\n            user,\n            userId: user.id,\n            email: user.email,\n            role: normalizeOptionalString(profile?.role) || normalizeOptionalString(metadataRole),\n            firmId,\n            advisorId: normalizeOptionalString(profile?.advisor_id) || normalizeOptionalString(metadataAdvisorId) || user.id\n        };\n        return {\n            success: true,\n            context\n        };\n    } catch (error) {\n        console.error(\"[Auth] Error getting auth context:\", error);\n        return {\n            success: false,\n            error: \"Authentication failed\",\n            response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Authentication error\",\n                message: \"Failed to verify authentication\"\n            }, {\n                status: 500\n            })\n        };\n    }\n}\n/**\n * Validate auth with specific requirements\n */ async function validateAuth(request, options = {}) {\n    const { requireAuth = true, requireRole, allowPublic = false } = options;\n    // Allow public access if specified\n    if (allowPublic) {\n        const authResult = await getAuthContext(request);\n        return authResult.success ? authResult : {\n            success: true\n        };\n    }\n    // Check authentication\n    if (!requireAuth) {\n        return {\n            success: true\n        };\n    }\n    const authResult = await getAuthContext(request);\n    if (!authResult.success) {\n        return authResult;\n    }\n    // Check role requirements\n    if (requireRole && requireRole.length > 0 && authResult.context) {\n        const userRole = authResult.context.role;\n        if (!userRole || !requireRole.includes(userRole)) {\n            return {\n                success: false,\n                error: \"Insufficient permissions\",\n                response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Forbidden\",\n                    message: \"You do not have permission to access this resource\",\n                    requiredRoles: requireRole\n                }, {\n                    status: 403\n                })\n            };\n        }\n    }\n    return authResult;\n}\n/**\n * Higher-order function to wrap API handlers with auth\n */ function withAuth(handler, options = {}) {\n    return async (request, ...args)=>{\n        const authResult = await validateAuth(request, options);\n        if (!authResult.success || authResult.response) {\n            return authResult.response || next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Authentication required\"\n            }, {\n                status: 401\n            });\n        }\n        // If auth is optional and no context, provide empty context\n        const context = authResult.context || {\n            user: null,\n            userId: \"\",\n            email: undefined,\n            role: null,\n            firmId: null,\n            advisorId: null\n        };\n        return handler(request, context, ...args);\n    };\n}\n/**\n * Get the current advisor's profile\n */ async function getAdvisorProfile(userId) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        const { data: profile, error } = await supabase.from(\"profiles\").select(`\n        id,\n        email,\n        full_name,\n        role,\n        firm_id,\n        advisor_id,\n        phone,\n        avatar_url,\n        created_at,\n        updated_at\n      `).eq(\"id\", userId).single();\n        if (error) {\n            console.error(\"[Auth] Error fetching advisor profile:\", error);\n            return null;\n        }\n        return profile;\n    } catch (error) {\n        console.error(\"[Auth] Error in getAdvisorProfile:\", error);\n        return null;\n    }\n}\n/**\n * Get firm details for the current user\n */ async function getFirmDetails(firmId) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        const { data: firm, error } = await supabase.from(\"firms\").select(\"*\").eq(\"id\", firmId).single();\n        if (error) {\n            console.error(\"[Auth] Error fetching firm details:\", error);\n            return null;\n        }\n        return firm;\n    } catch (error) {\n        console.error(\"[Auth] Error in getFirmDetails:\", error);\n        return null;\n    }\n}\n// ================================================================\n// ROLE CONSTANTS\n// ================================================================\nconst ROLES = {\n    ADMIN: \"admin\",\n    ADVISOR: \"advisor\",\n    COMPLIANCE: \"compliance\",\n    SUPPORT: \"support\",\n    CLIENT: \"client\"\n};\n// ================================================================\n// PERMISSION HELPERS\n// ================================================================\nfunction canAccessClient(authContext, clientAdvisorId) {\n    // Admins can access all clients\n    if (authContext.role === ROLES.ADMIN) return true;\n    // Advisors can only access their own clients\n    return authContext.advisorId === clientAdvisorId;\n}\nfunction canModifyDocument(authContext, documentAdvisorId) {\n    if (authContext.role === ROLES.ADMIN) return true;\n    if (authContext.role === ROLES.COMPLIANCE) return true;\n    return authContext.advisorId === documentAdvisorId;\n}\nfunction isAdmin(authContext) {\n    return authContext.role === ROLES.ADMIN;\n}\nfunction isAdvisor(authContext) {\n    return authContext.role === ROLES.ADVISOR || authContext.role === ROLES.ADMIN;\n}\nfunction isCompliance(authContext) {\n    return authContext.role === ROLES.COMPLIANCE || authContext.role === ROLES.ADMIN;\n}\n/**\n * Role-based permission matrix\n */ const ROLE_PERMISSIONS = {\n    admin: [\n        \"clients:read\",\n        \"clients:write\",\n        \"clients:delete\",\n        \"assessments:read\",\n        \"assessments:write\",\n        \"assessments:delete\",\n        \"documents:read\",\n        \"documents:write\",\n        \"documents:delete\",\n        \"documents:sign\",\n        \"reports:read\",\n        \"reports:generate\",\n        \"admin:users\",\n        \"admin:settings\",\n        \"admin:audit\"\n    ],\n    advisor: [\n        \"clients:read\",\n        \"clients:write\",\n        \"assessments:read\",\n        \"assessments:write\",\n        \"documents:read\",\n        \"documents:write\",\n        \"documents:sign\",\n        \"reports:read\",\n        \"reports:generate\"\n    ],\n    compliance: [\n        \"clients:read\",\n        \"assessments:read\",\n        \"documents:read\",\n        \"documents:write\",\n        \"reports:read\",\n        \"reports:generate\",\n        \"admin:audit\"\n    ],\n    support: [\n        \"clients:read\",\n        \"assessments:read\",\n        \"documents:read\",\n        \"reports:read\"\n    ],\n    client: [\n        \"assessments:read\",\n        \"documents:read\",\n        \"documents:sign\"\n    ]\n};\n/**\n * Check if a role has a specific permission\n */ function hasPermission(role, permission) {\n    if (!role) return false;\n    const permissions = ROLE_PERMISSIONS[role];\n    return permissions?.includes(permission) ?? false;\n}\n/**\n * Check if auth context has a specific permission\n */ function checkPermission(authContext, permission) {\n    return hasPermission(authContext.role, permission);\n}\n/**\n * Require specific permission, returns error response if not authorized\n */ function requirePermission(authContext, permission) {\n    if (!checkPermission(authContext, permission)) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Forbidden\",\n            message: `Missing required permission: ${permission}`,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 403\n        });\n    }\n    return null;\n}\n// ================================================================\n// FIRM ID VALIDATION (NO HARDCODED FALLBACKS)\n// ================================================================\n/**\n * Get firm ID from auth context with validation\n * IMPORTANT: Does NOT use hardcoded fallbacks for security\n */ function getValidatedFirmId(authContext) {\n    const firmId = authContext.firmId;\n    // Validate UUID format\n    if (!firmId) return null;\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n    if (!uuidRegex.test(firmId)) {\n        console.warn(\"[Auth] Invalid firm ID format:\", firmId);\n        return null;\n    }\n    // Reject known test/placeholder UUIDs\n    const invalidIds = [\n        \"00000000-0000-0000-0000-000000000000\",\n        \"00000000-0000-0000-0000-000000000001\",\n        \"12345678-1234-1234-1234-123456789012\"\n    ];\n    if (invalidIds.includes(firmId)) {\n        console.warn(\"[Auth] Rejected placeholder firm ID:\", firmId);\n        return null;\n    }\n    return firmId;\n}\n/**\n * Require firm ID, returns error response if missing\n */ function requireFirmId(authContext) {\n    const firmId = getValidatedFirmId(authContext);\n    if (!firmId) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Firm ID required\",\n            message: \"Your account is not associated with a firm. Please contact support.\",\n            timestamp: new Date().toISOString()\n        }, {\n            status: 403\n        });\n    }\n    return {\n        firmId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVM7WUFDVEwsT0FBTztZQUNQUSxTQUFTLENBQUMsNkJBQTZCLEVBQUVpRSxXQUFXLENBQUM7WUFDckRJLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQyxHQUNBO1lBQUV0RSxRQUFRO1FBQUk7SUFFbEI7SUFDQSxPQUFPO0FBQ1Q7QUFFQSxtRUFBbUU7QUFDbkUsOENBQThDO0FBQzlDLG1FQUFtRTtBQUVuRTs7O0NBR0MsR0FDTSxTQUFTdUUsbUJBQW1CckIsV0FBd0I7SUFDekQsTUFBTS9CLFNBQVMrQixZQUFZL0IsTUFBTTtJQUVqQyx1QkFBdUI7SUFDdkIsSUFBSSxDQUFDQSxRQUFRLE9BQU87SUFFcEIsTUFBTXFELFlBQVk7SUFDbEIsSUFBSSxDQUFDQSxVQUFVQyxJQUFJLENBQUN0RCxTQUFTO1FBQzNCUSxRQUFRK0MsSUFBSSxDQUFDLGtDQUFrQ3ZEO1FBQy9DLE9BQU87SUFDVDtJQUVBLHNDQUFzQztJQUN0QyxNQUFNd0QsYUFBYTtRQUNqQjtRQUNBO1FBQ0E7S0FDRDtJQUVELElBQUlBLFdBQVd0RyxRQUFRLENBQUM4QyxTQUFTO1FBQy9CUSxRQUFRK0MsSUFBSSxDQUFDLHdDQUF3Q3ZEO1FBQ3JELE9BQU87SUFDVDtJQUVBLE9BQU9BO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLFNBQVN5RCxjQUFjMUIsV0FBd0I7SUFDcEQsTUFBTS9CLFNBQVNvRCxtQkFBbUJyQjtJQUVsQyxJQUFJLENBQUMvQixRQUFRO1FBQ1gsT0FBTzNILGtGQUFZQSxDQUFDc0csSUFBSSxDQUN0QjtZQUNFRixTQUFTO1lBQ1RMLE9BQU87WUFDUFEsU0FBUztZQUNUcUUsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1FBQ25DLEdBQ0E7WUFBRXRFLFFBQVE7UUFBSTtJQUVsQjtJQUVBLE9BQU87UUFBRW1CO0lBQU87QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFubmV0aWMtcGxhdGZvcm0vLi9zcmMvbGliL2F1dGgvYXBpQXV0aC50cz81ZDAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFQSSBBdXRoZW50aWNhdGlvbiBIZWxwZXJcbi8vIFByb3ZpZGVzIGNvbnNpc3RlbnQgYXV0aCBjaGVja2luZyBhY3Jvc3MgYWxsIEFQSSByb3V0ZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJ1xuaW1wb3J0IHR5cGUgeyBVc2VyIH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IGFzIGNyZWF0ZVN1cGFiYXNlSnNDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRZUEVTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aENvbnRleHQge1xuICB1c2VyOiBVc2VyXG4gIHVzZXJJZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcm9sZTogc3RyaW5nIHwgbnVsbFxuICBmaXJtSWQ6IHN0cmluZyB8IG51bGxcbiAgYWR2aXNvcklkOiBzdHJpbmcgfCBudWxsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgY29udGV4dD86IEF1dGhDb250ZXh0XG4gIGVycm9yPzogc3RyaW5nXG4gIHJlc3BvbnNlPzogTmV4dFJlc3BvbnNlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aE9wdGlvbnMge1xuICByZXF1aXJlQXV0aD86IGJvb2xlYW5cbiAgcmVxdWlyZVJvbGU/OiBzdHJpbmdbXVxuICBhbGxvd1B1YmxpYz86IGJvb2xlYW5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQVVUSCBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRGaXJtSWQoKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGVudkRlZmF1bHRGaXJtSWQgPSBwcm9jZXNzLmVudi5ERUZBVUxUX0ZJUk1fSUQgPz8gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREVGQVVMVF9GSVJNX0lEXG4gIHJldHVybiB0eXBlb2YgZW52RGVmYXVsdEZpcm1JZCA9PT0gJ3N0cmluZycgJiYgZW52RGVmYXVsdEZpcm1JZC50cmltKCkgPyBlbnZEZWZhdWx0RmlybUlkLnRyaW0oKSA6IG51bGxcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9uYWxTdHJpbmcodmFsdWU6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsXG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKClcbiAgcmV0dXJuIHRyaW1tZWQgPyB0cmltbWVkIDogbnVsbFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVGaXJtSWQodmFsdWU6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgdHJpbW1lZCA9IG5vcm1hbGl6ZU9wdGlvbmFsU3RyaW5nKHZhbHVlKVxuICBpZiAoIXRyaW1tZWQpIHJldHVybiBudWxsXG4gIC8vIEF2b2lkIGxlZ2FjeSBwbGFjZWhvbGRlciB2YWx1ZXMgbGVha2luZyBpbnRvIGZpcm0tc2NvcGVkIHF1ZXJpZXMuXG4gIGlmICh0cmltbWVkID09PSAnZGVmYXVsdC1maXJtJykgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHRyaW1tZWRcbn1cblxuZnVuY3Rpb24gZGVjb2RlQmFzZTY0VXJsKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBiYXNlNjQgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpXG4gICAgY29uc3QgcGFkZGVkID0gYmFzZTY0ICsgJz0nLnJlcGVhdCgoNCAtIChiYXNlNjQubGVuZ3RoICUgNCkpICUgNClcblxuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHBhZGRlZCwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGY4JylcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkuYXRvYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIChnbG9iYWxUaGlzIGFzIGFueSkuYXRvYihwYWRkZWQpXG4gICAgfVxuICB9IGNhdGNoIHtcbiAgICAvLyBpZ25vcmVcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBleHRyYWN0QWNjZXNzVG9rZW5Gcm9tU2Vzc2lvblBheWxvYWQocGF5bG9hZDogdW5rbm93bik6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIXBheWxvYWQgfHwgdHlwZW9mIHBheWxvYWQgIT09ICdvYmplY3QnKSByZXR1cm4gbnVsbFxuICBjb25zdCBvYmogPSBwYXlsb2FkIGFzIGFueVxuXG4gIGNvbnN0IGRpcmVjdCA9IG5vcm1hbGl6ZU9wdGlvbmFsU3RyaW5nKG9iai5hY2Nlc3NfdG9rZW4pXG4gIGlmIChkaXJlY3QpIHJldHVybiBkaXJlY3RcblxuICBjb25zdCBjdXJyZW50ID0gbm9ybWFsaXplT3B0aW9uYWxTdHJpbmcob2JqLmN1cnJlbnRTZXNzaW9uPy5hY2Nlc3NfdG9rZW4pXG4gIGlmIChjdXJyZW50KSByZXR1cm4gY3VycmVudFxuXG4gIGNvbnN0IG5lc3RlZCA9IG5vcm1hbGl6ZU9wdGlvbmFsU3RyaW5nKG9iai5kYXRhPy5zZXNzaW9uPy5hY2Nlc3NfdG9rZW4pXG4gIGlmIChuZXN0ZWQpIHJldHVybiBuZXN0ZWRcblxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBnZXRTdXBhYmFzZVByb2plY3RSZWZGcm9tRW52KCk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcbiAgaWYgKCF1cmwpIHJldHVybiBudWxsXG4gIHRyeSB7XG4gICAgY29uc3QgaG9zdG5hbWUgPSBuZXcgVVJMKHVybCkuaG9zdG5hbWVcbiAgICBjb25zdCByZWYgPSBob3N0bmFtZS5zcGxpdCgnLicpWzBdXG4gICAgcmV0dXJuIHJlZiA/IHJlZiA6IG51bGxcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUNvb2tpZUhlYWRlcihjb29raWVIZWFkZXI6IHN0cmluZyB8IG51bGwpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgaWYgKCFjb29raWVIZWFkZXIpIHJldHVybiB7fVxuICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICBjb25zdCBwYXJ0cyA9IGNvb2tpZUhlYWRlci5zcGxpdCgnOycpXG4gIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgIGNvbnN0IFtyYXdOYW1lLCAuLi5yZXN0XSA9IHBhcnQudHJpbSgpLnNwbGl0KCc9JylcbiAgICBjb25zdCBuYW1lID0gcmF3TmFtZT8udHJpbSgpXG4gICAgaWYgKCFuYW1lKSBjb250aW51ZVxuICAgIGNvbnN0IHZhbHVlID0gcmVzdC5qb2luKCc9JylcbiAgICByZXN1bHRbbmFtZV0gPSB2YWx1ZVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gcmVhZENodW5rZWRDb29raWUoY29va2llczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiwga2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKGNvb2tpZXNba2V5XSkgcmV0dXJuIGNvb2tpZXNba2V5XVxuXG4gIGNvbnN0IGNodW5rczogQXJyYXk8eyBpZHg6IG51bWJlcjsgdmFsdWU6IHN0cmluZyB9PiA9IFtdXG4gIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb29raWVzKSkge1xuICAgIGlmICghbmFtZS5zdGFydHNXaXRoKGAke2tleX0uYCkpIGNvbnRpbnVlXG4gICAgY29uc3Qgc3VmZml4ID0gbmFtZS5zbGljZShrZXkubGVuZ3RoICsgMSlcbiAgICBjb25zdCBpZHggPSBOdW1iZXIucGFyc2VJbnQoc3VmZml4LCAxMClcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGlkeCkpIGNvbnRpbnVlXG4gICAgY2h1bmtzLnB1c2goeyBpZHgsIHZhbHVlIH0pXG4gIH1cblxuICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcbiAgY2h1bmtzLnNvcnQoKGEsIGIpID0+IGEuaWR4IC0gYi5pZHgpXG4gIHJldHVybiBjaHVua3MubWFwKChjKSA9PiBjLnZhbHVlKS5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBleHRyYWN0QWNjZXNzVG9rZW5Gcm9tU3VwYWJhc2VDb29raWUocmVxdWVzdDogTmV4dFJlcXVlc3QpOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgY29va2llSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnY29va2llJylcbiAgaWYgKCFjb29raWVIZWFkZXIpIHJldHVybiBudWxsXG5cbiAgY29uc3QgY29va2llcyA9IHBhcnNlQ29va2llSGVhZGVyKGNvb2tpZUhlYWRlcilcbiAgY29uc3QgcmVmID0gZ2V0U3VwYWJhc2VQcm9qZWN0UmVmRnJvbUVudigpXG4gIGNvbnN0IHByaW1hcnlLZXkgPSByZWYgPyBgc2ItJHtyZWZ9LWF1dGgtdG9rZW5gIDogbnVsbFxuXG4gIGNvbnN0IGNhbmRpZGF0ZUtleXM6IHN0cmluZ1tdID0gW11cbiAgaWYgKHByaW1hcnlLZXkpIGNhbmRpZGF0ZUtleXMucHVzaChwcmltYXJ5S2V5KVxuICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoY29va2llcykpIHtcbiAgICBpZiAoIW5hbWUuc3RhcnRzV2l0aCgnc2ItJykpIGNvbnRpbnVlXG4gICAgaWYgKCFuYW1lLmluY2x1ZGVzKCdhdXRoLXRva2VuJykpIGNvbnRpbnVlXG4gICAgLy8gVXNlIHRoZSBiYXNlIGtleSAod2l0aG91dCAuMC8uMS4uLikgc28gd2UgY2FuIHJlYXNzZW1ibGUgY2h1bmtzLlxuICAgIGNvbnN0IGJhc2UgPSBuYW1lLnNwbGl0KCcuJylbMF1cbiAgICBpZiAoIWNhbmRpZGF0ZUtleXMuaW5jbHVkZXMoYmFzZSkpIGNhbmRpZGF0ZUtleXMucHVzaChiYXNlKVxuICB9XG5cbiAgZm9yIChjb25zdCBrZXkgb2YgY2FuZGlkYXRlS2V5cykge1xuICAgIGNvbnN0IHJhdyA9IHJlYWRDaHVua2VkQ29va2llKGNvb2tpZXMsIGtleSlcbiAgICBpZiAoIXJhdykgY29udGludWVcblxuICAgIC8vIHN1cGFiYXNlL3NzciBwcmVmaXhlcyBiYXNlNjR1cmwtZW5jb2RlZCBjb29raWUgdmFsdWVzIHdpdGggXCJiYXNlNjQtXCIuXG4gICAgY29uc3QgZGVjb2RlZFZhbHVlID0gcmF3LnN0YXJ0c1dpdGgoJ2Jhc2U2NC0nKSA/IGRlY29kZUJhc2U2NFVybChyYXcuc2xpY2UoJ2Jhc2U2NC0nLmxlbmd0aCkpIDogcmF3XG4gICAgaWYgKCFkZWNvZGVkVmFsdWUpIGNvbnRpbnVlXG5cbiAgICBjb25zdCBwYXJzZWQgPSAoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlZFZhbHVlKSBhcyB1bmtub3duXG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9KSgpXG4gICAgY29uc3QgdG9rZW4gPSBleHRyYWN0QWNjZXNzVG9rZW5Gcm9tU2Vzc2lvblBheWxvYWQocGFyc2VkKVxuICAgIGlmICh0b2tlbikgcmV0dXJuIHRva2VuXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgY29udGV4dCBmb3IgQVBJIHJvdXRlc1xuICogUmV0dXJucyB1c2VyIGluZm8gYW5kIHJlbGF0ZWQgY29udGV4dCAoZmlybSwgYWR2aXNvciwgZXRjLilcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF1dGhDb250ZXh0KHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxBdXRoUmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKSA/PyByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdBdXRob3JpemF0aW9uJylcbiAgICBjb25zdCBiZWFyZXJUb2tlbiA9IGF1dGhIZWFkZXI/LnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSA/IGF1dGhIZWFkZXIuc2xpY2UoJ0JlYXJlciAnLmxlbmd0aCkudHJpbSgpIDogbnVsbFxuICAgIGNvbnN0IGNvb2tpZUFjY2Vzc1Rva2VuID0gZXh0cmFjdEFjY2Vzc1Rva2VuRnJvbVN1cGFiYXNlQ29va2llKHJlcXVlc3QpXG5cbiAgICAvLyBQcmVmZXIgY29va2llLWJhc2VkIGF1dGggKGJlc3QgZm9yIFNTUiksIGJ1dCBhbGxvdyBhIEJlYXJlciB0b2tlbiBmYWxsYmFja1xuICAgIC8vIHRvIHN1cHBvcnQgY2xpZW50cyB0aGF0IHN0b3JlIHNlc3Npb25zIG91dHNpZGUgY29va2llcy5cbiAgICBsZXQgc3VwYWJhc2U6IGFueSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXG4gICAgbGV0IHVzZXI6IFVzZXIgfCBudWxsID0gbnVsbFxuICAgIGxldCBhdXRoRXJyb3I6IGFueSA9IG51bGxcblxuICAgIGNvbnN0IGNvb2tpZVJlc3VsdCA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXG4gICAgdXNlciA9IGNvb2tpZVJlc3VsdC5kYXRhLnVzZXJcbiAgICBhdXRoRXJyb3IgPSBjb29raWVSZXN1bHQuZXJyb3JcblxuICAgIGNvbnN0IHRva2VuQ2FuZGlkYXRlcyA9IFtiZWFyZXJUb2tlbiwgY29va2llQWNjZXNzVG9rZW5dLmZpbHRlcihcbiAgICAgICh2YWx1ZSk6IHZhbHVlIGlzIHN0cmluZyA9PiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnRyaW0oKS5sZW5ndGggPiAwXG4gICAgKVxuXG4gICAgaWYgKCghdXNlciB8fCBhdXRoRXJyb3IpICYmIHRva2VuQ2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcbiAgICAgIGNvbnN0IGFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxuICAgICAgaWYgKCF1cmwgfHwgIWFub25LZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIGVycm9yJywgbWVzc2FnZTogJ1N1cGFiYXNlIGNyZWRlbnRpYWxzIGFyZSBub3QgY29uZmlndXJlZCcgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2VuQ2FuZGlkYXRlcykge1xuICAgICAgICBjb25zdCB0b2tlbkNsaWVudCA9IGNyZWF0ZVN1cGFiYXNlSnNDbGllbnQodXJsLCBhbm9uS2V5LCB7XG4gICAgICAgICAgZ2xvYmFsOiB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGF1dGg6IHtcbiAgICAgICAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxuICAgICAgICAgICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHRva2VuUmVzdWx0ID0gYXdhaXQgdG9rZW5DbGllbnQuYXV0aC5nZXRVc2VyKHRva2VuKVxuICAgICAgICB1c2VyID0gdG9rZW5SZXN1bHQuZGF0YS51c2VyXG4gICAgICAgIGF1dGhFcnJvciA9IHRva2VuUmVzdWx0LmVycm9yXG5cbiAgICAgICAgLy8gUmVwb2ludCBzdXBhYmFzZSBjbGllbnQgdG8gb25lIHRoYXQgd2lsbCBpbmNsdWRlIHRoZSB0b2tlbiBmb3IgREIgcmVhZHMuXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgc3VwYWJhc2UgPSB0b2tlbkNsaWVudFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXV0aEVycm9yIHx8ICF1c2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdVbmF1dGhvcml6ZWQgLSBQbGVhc2UgbG9nIGluJyxcbiAgICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnLCBtZXNzYWdlOiAnUGxlYXNlIGxvZyBpbiB0byBhY2Nlc3MgdGhpcyByZXNvdXJjZScgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCB1c2VyIHByb2ZpbGUgd2l0aCByb2xlIGFuZCBmaXJtIGluZm9cbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IChzdXBhYmFzZSBhcyBhbnkpXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgncm9sZSwgZmlybV9pZCwgYWR2aXNvcl9pZCcpXG4gICAgICAuZXEoJ2lkJywgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgY29uc3QgbWV0YWRhdGEgPSAodXNlci51c2VyX21ldGFkYXRhID8/IHt9KSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICAgIGNvbnN0IG1ldGFkYXRhUm9sZSA9IChtZXRhZGF0YS5yb2xlIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gbnVsbFxuICAgIGNvbnN0IG1ldGFkYXRhRmlybUlkID1cbiAgICAgIChtZXRhZGF0YS5maXJtX2lkIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz9cbiAgICAgIChtZXRhZGF0YS5maXJtSWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/P1xuICAgICAgbnVsbFxuICAgIGNvbnN0IG1ldGFkYXRhQWR2aXNvcklkID1cbiAgICAgIChtZXRhZGF0YS5hZHZpc29yX2lkIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz9cbiAgICAgIChtZXRhZGF0YS5hZHZpc29ySWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/P1xuICAgICAgbnVsbFxuXG4gICAgY29uc3QgZGVmYXVsdEZpcm1JZCA9IGdldERlZmF1bHRGaXJtSWQoKVxuICAgIGNvbnN0IGZpcm1JZCA9XG4gICAgICBub3JtYWxpemVGaXJtSWQocHJvZmlsZT8uZmlybV9pZCkgPz9cbiAgICAgIG5vcm1hbGl6ZUZpcm1JZChtZXRhZGF0YUZpcm1JZCkgPz9cbiAgICAgIG5vcm1hbGl6ZUZpcm1JZChkZWZhdWx0RmlybUlkKVxuXG4gICAgY29uc3QgY29udGV4dDogQXV0aENvbnRleHQgPSB7XG4gICAgICB1c2VyLFxuICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICByb2xlOiBub3JtYWxpemVPcHRpb25hbFN0cmluZyhwcm9maWxlPy5yb2xlKSB8fCBub3JtYWxpemVPcHRpb25hbFN0cmluZyhtZXRhZGF0YVJvbGUpLFxuICAgICAgZmlybUlkLFxuICAgICAgYWR2aXNvcklkOiBub3JtYWxpemVPcHRpb25hbFN0cmluZyhwcm9maWxlPy5hZHZpc29yX2lkKSB8fCBub3JtYWxpemVPcHRpb25hbFN0cmluZyhtZXRhZGF0YUFkdmlzb3JJZCkgfHwgdXNlci5pZFxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY29udGV4dFxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQXV0aF0gRXJyb3IgZ2V0dGluZyBhdXRoIGNvbnRleHQ6JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQXV0aGVudGljYXRpb24gZXJyb3InLCBtZXNzYWdlOiAnRmFpbGVkIHRvIHZlcmlmeSBhdXRoZW50aWNhdGlvbicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGUgYXV0aCB3aXRoIHNwZWNpZmljIHJlcXVpcmVtZW50c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVBdXRoKFxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgb3B0aW9uczogQXV0aE9wdGlvbnMgPSB7fVxuKTogUHJvbWlzZTxBdXRoUmVzdWx0PiB7XG4gIGNvbnN0IHsgcmVxdWlyZUF1dGggPSB0cnVlLCByZXF1aXJlUm9sZSwgYWxsb3dQdWJsaWMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuXG4gIC8vIEFsbG93IHB1YmxpYyBhY2Nlc3MgaWYgc3BlY2lmaWVkXG4gIGlmIChhbGxvd1B1YmxpYykge1xuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCBnZXRBdXRoQ29udGV4dChyZXF1ZXN0KVxuICAgIHJldHVybiBhdXRoUmVzdWx0LnN1Y2Nlc3MgPyBhdXRoUmVzdWx0IDogeyBzdWNjZXNzOiB0cnVlIH1cbiAgfVxuXG4gIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uXG4gIGlmICghcmVxdWlyZUF1dGgpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgfVxuXG4gIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCBnZXRBdXRoQ29udGV4dChyZXF1ZXN0KVxuXG4gIGlmICghYXV0aFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIGF1dGhSZXN1bHRcbiAgfVxuXG4gIC8vIENoZWNrIHJvbGUgcmVxdWlyZW1lbnRzXG4gIGlmIChyZXF1aXJlUm9sZSAmJiByZXF1aXJlUm9sZS5sZW5ndGggPiAwICYmIGF1dGhSZXN1bHQuY29udGV4dCkge1xuICAgIGNvbnN0IHVzZXJSb2xlID0gYXV0aFJlc3VsdC5jb250ZXh0LnJvbGVcbiAgICBpZiAoIXVzZXJSb2xlIHx8ICFyZXF1aXJlUm9sZS5pbmNsdWRlcyh1c2VyUm9sZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0luc3VmZmljaWVudCBwZXJtaXNzaW9ucycsXG4gICAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvcjogJ0ZvcmJpZGRlbicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2UnLFxuICAgICAgICAgICAgcmVxdWlyZWRSb2xlczogcmVxdWlyZVJvbGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGF1dGhSZXN1bHRcbn1cblxuLyoqXG4gKiBIaWdoZXItb3JkZXIgZnVuY3Rpb24gdG8gd3JhcCBBUEkgaGFuZGxlcnMgd2l0aCBhdXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoQXV0aDxUIGV4dGVuZHMgYW55W10+KFxuICBoYW5kbGVyOiAocmVxdWVzdDogTmV4dFJlcXVlc3QsIGNvbnRleHQ6IEF1dGhDb250ZXh0LCAuLi5hcmdzOiBUKSA9PiBQcm9taXNlPE5leHRSZXNwb25zZT4sXG4gIG9wdGlvbnM6IEF1dGhPcHRpb25zID0ge31cbikge1xuICByZXR1cm4gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCAuLi5hcmdzOiBUKTogUHJvbWlzZTxOZXh0UmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVBdXRoKHJlcXVlc3QsIG9wdGlvbnMpXG5cbiAgICBpZiAoIWF1dGhSZXN1bHQuc3VjY2VzcyB8fCBhdXRoUmVzdWx0LnJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gYXV0aFJlc3VsdC5yZXNwb25zZSB8fCBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBJZiBhdXRoIGlzIG9wdGlvbmFsIGFuZCBubyBjb250ZXh0LCBwcm92aWRlIGVtcHR5IGNvbnRleHRcbiAgICBjb25zdCBjb250ZXh0ID0gYXV0aFJlc3VsdC5jb250ZXh0IHx8IHtcbiAgICAgIHVzZXI6IG51bGwgYXMgYW55LFxuICAgICAgdXNlcklkOiAnJyxcbiAgICAgIGVtYWlsOiB1bmRlZmluZWQsXG4gICAgICByb2xlOiBudWxsLFxuICAgICAgZmlybUlkOiBudWxsLFxuICAgICAgYWR2aXNvcklkOiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZXIocmVxdWVzdCwgY29udGV4dCwgLi4uYXJncylcbiAgfVxufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBhZHZpc29yJ3MgcHJvZmlsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWR2aXNvclByb2ZpbGUodXNlcklkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXG5cbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGZ1bGxfbmFtZSxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgZmlybV9pZCxcbiAgICAgICAgYWR2aXNvcl9pZCxcbiAgICAgICAgcGhvbmUsXG4gICAgICAgIGF2YXRhcl91cmwsXG4gICAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICAgIHVwZGF0ZWRfYXRcbiAgICAgIGApXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoXSBFcnJvciBmZXRjaGluZyBhZHZpc29yIHByb2ZpbGU6JywgZXJyb3IpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBwcm9maWxlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0F1dGhdIEVycm9yIGluIGdldEFkdmlzb3JQcm9maWxlOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgZmlybSBkZXRhaWxzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRGaXJtRGV0YWlscyhmaXJtSWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcblxuICAgIGNvbnN0IHsgZGF0YTogZmlybSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZmlybXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgZmlybUlkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoXSBFcnJvciBmZXRjaGluZyBmaXJtIGRldGFpbHM6JywgZXJyb3IpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBmaXJtXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0F1dGhdIEVycm9yIGluIGdldEZpcm1EZXRhaWxzOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUk9MRSBDT05TVEFOVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IFJPTEVTID0ge1xuICBBRE1JTjogJ2FkbWluJyxcbiAgQURWSVNPUjogJ2Fkdmlzb3InLFxuICBDT01QTElBTkNFOiAnY29tcGxpYW5jZScsXG4gIFNVUFBPUlQ6ICdzdXBwb3J0JyxcbiAgQ0xJRU5UOiAnY2xpZW50J1xufSBhcyBjb25zdFxuXG5leHBvcnQgdHlwZSBSb2xlID0gdHlwZW9mIFJPTEVTW2tleW9mIHR5cGVvZiBST0xFU11cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUEVSTUlTU0lPTiBIRUxQRVJTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5BY2Nlc3NDbGllbnQoYXV0aENvbnRleHQ6IEF1dGhDb250ZXh0LCBjbGllbnRBZHZpc29ySWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAvLyBBZG1pbnMgY2FuIGFjY2VzcyBhbGwgY2xpZW50c1xuICBpZiAoYXV0aENvbnRleHQucm9sZSA9PT0gUk9MRVMuQURNSU4pIHJldHVybiB0cnVlXG5cbiAgLy8gQWR2aXNvcnMgY2FuIG9ubHkgYWNjZXNzIHRoZWlyIG93biBjbGllbnRzXG4gIHJldHVybiBhdXRoQ29udGV4dC5hZHZpc29ySWQgPT09IGNsaWVudEFkdmlzb3JJZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuTW9kaWZ5RG9jdW1lbnQoYXV0aENvbnRleHQ6IEF1dGhDb250ZXh0LCBkb2N1bWVudEFkdmlzb3JJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmIChhdXRoQ29udGV4dC5yb2xlID09PSBST0xFUy5BRE1JTikgcmV0dXJuIHRydWVcbiAgaWYgKGF1dGhDb250ZXh0LnJvbGUgPT09IFJPTEVTLkNPTVBMSUFOQ0UpIHJldHVybiB0cnVlXG4gIHJldHVybiBhdXRoQ29udGV4dC5hZHZpc29ySWQgPT09IGRvY3VtZW50QWR2aXNvcklkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FkbWluKGF1dGhDb250ZXh0OiBBdXRoQ29udGV4dCk6IGJvb2xlYW4ge1xuICByZXR1cm4gYXV0aENvbnRleHQucm9sZSA9PT0gUk9MRVMuQURNSU5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWR2aXNvcihhdXRoQ29udGV4dDogQXV0aENvbnRleHQpOiBib29sZWFuIHtcbiAgcmV0dXJuIGF1dGhDb250ZXh0LnJvbGUgPT09IFJPTEVTLkFEVklTT1IgfHwgYXV0aENvbnRleHQucm9sZSA9PT0gUk9MRVMuQURNSU5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcGxpYW5jZShhdXRoQ29udGV4dDogQXV0aENvbnRleHQpOiBib29sZWFuIHtcbiAgcmV0dXJuIGF1dGhDb250ZXh0LnJvbGUgPT09IFJPTEVTLkNPTVBMSUFOQ0UgfHwgYXV0aENvbnRleHQucm9sZSA9PT0gUk9MRVMuQURNSU5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkJBQyBQRVJNSVNTSU9OIE1BVFJJWFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFBlcm1pc3Npb24gdHlwZXMgZm9yIFJCQUNcbiAqL1xuZXhwb3J0IHR5cGUgUGVybWlzc2lvbiA9XG4gIHwgJ2NsaWVudHM6cmVhZCdcbiAgfCAnY2xpZW50czp3cml0ZSdcbiAgfCAnY2xpZW50czpkZWxldGUnXG4gIHwgJ2Fzc2Vzc21lbnRzOnJlYWQnXG4gIHwgJ2Fzc2Vzc21lbnRzOndyaXRlJ1xuICB8ICdhc3Nlc3NtZW50czpkZWxldGUnXG4gIHwgJ2RvY3VtZW50czpyZWFkJ1xuICB8ICdkb2N1bWVudHM6d3JpdGUnXG4gIHwgJ2RvY3VtZW50czpkZWxldGUnXG4gIHwgJ2RvY3VtZW50czpzaWduJ1xuICB8ICdyZXBvcnRzOnJlYWQnXG4gIHwgJ3JlcG9ydHM6Z2VuZXJhdGUnXG4gIHwgJ2FkbWluOnVzZXJzJ1xuICB8ICdhZG1pbjpzZXR0aW5ncydcbiAgfCAnYWRtaW46YXVkaXQnXG5cbi8qKlxuICogUm9sZS1iYXNlZCBwZXJtaXNzaW9uIG1hdHJpeFxuICovXG5jb25zdCBST0xFX1BFUk1JU1NJT05TOiBSZWNvcmQ8Um9sZSwgUGVybWlzc2lvbltdPiA9IHtcbiAgYWRtaW46IFtcbiAgICAnY2xpZW50czpyZWFkJywgJ2NsaWVudHM6d3JpdGUnLCAnY2xpZW50czpkZWxldGUnLFxuICAgICdhc3Nlc3NtZW50czpyZWFkJywgJ2Fzc2Vzc21lbnRzOndyaXRlJywgJ2Fzc2Vzc21lbnRzOmRlbGV0ZScsXG4gICAgJ2RvY3VtZW50czpyZWFkJywgJ2RvY3VtZW50czp3cml0ZScsICdkb2N1bWVudHM6ZGVsZXRlJywgJ2RvY3VtZW50czpzaWduJyxcbiAgICAncmVwb3J0czpyZWFkJywgJ3JlcG9ydHM6Z2VuZXJhdGUnLFxuICAgICdhZG1pbjp1c2VycycsICdhZG1pbjpzZXR0aW5ncycsICdhZG1pbjphdWRpdCdcbiAgXSxcbiAgYWR2aXNvcjogW1xuICAgICdjbGllbnRzOnJlYWQnLCAnY2xpZW50czp3cml0ZScsXG4gICAgJ2Fzc2Vzc21lbnRzOnJlYWQnLCAnYXNzZXNzbWVudHM6d3JpdGUnLFxuICAgICdkb2N1bWVudHM6cmVhZCcsICdkb2N1bWVudHM6d3JpdGUnLCAnZG9jdW1lbnRzOnNpZ24nLFxuICAgICdyZXBvcnRzOnJlYWQnLCAncmVwb3J0czpnZW5lcmF0ZSdcbiAgXSxcbiAgY29tcGxpYW5jZTogW1xuICAgICdjbGllbnRzOnJlYWQnLFxuICAgICdhc3Nlc3NtZW50czpyZWFkJyxcbiAgICAnZG9jdW1lbnRzOnJlYWQnLCAnZG9jdW1lbnRzOndyaXRlJyxcbiAgICAncmVwb3J0czpyZWFkJywgJ3JlcG9ydHM6Z2VuZXJhdGUnLFxuICAgICdhZG1pbjphdWRpdCdcbiAgXSxcbiAgc3VwcG9ydDogW1xuICAgICdjbGllbnRzOnJlYWQnLFxuICAgICdhc3Nlc3NtZW50czpyZWFkJyxcbiAgICAnZG9jdW1lbnRzOnJlYWQnLFxuICAgICdyZXBvcnRzOnJlYWQnXG4gIF0sXG4gIGNsaWVudDogW1xuICAgICdhc3Nlc3NtZW50czpyZWFkJyxcbiAgICAnZG9jdW1lbnRzOnJlYWQnLCAnZG9jdW1lbnRzOnNpZ24nXG4gIF1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHJvbGUgaGFzIGEgc3BlY2lmaWMgcGVybWlzc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUGVybWlzc2lvbihyb2xlOiBSb2xlIHwgc3RyaW5nIHwgbnVsbCwgcGVybWlzc2lvbjogUGVybWlzc2lvbik6IGJvb2xlYW4ge1xuICBpZiAoIXJvbGUpIHJldHVybiBmYWxzZVxuICBjb25zdCBwZXJtaXNzaW9ucyA9IFJPTEVfUEVSTUlTU0lPTlNbcm9sZSBhcyBSb2xlXVxuICByZXR1cm4gcGVybWlzc2lvbnM/LmluY2x1ZGVzKHBlcm1pc3Npb24pID8/IGZhbHNlXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYXV0aCBjb250ZXh0IGhhcyBhIHNwZWNpZmljIHBlcm1pc3Npb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUGVybWlzc2lvbihhdXRoQ29udGV4dDogQXV0aENvbnRleHQsIHBlcm1pc3Npb246IFBlcm1pc3Npb24pOiBib29sZWFuIHtcbiAgcmV0dXJuIGhhc1Blcm1pc3Npb24oYXV0aENvbnRleHQucm9sZSwgcGVybWlzc2lvbilcbn1cblxuLyoqXG4gKiBSZXF1aXJlIHNwZWNpZmljIHBlcm1pc3Npb24sIHJldHVybnMgZXJyb3IgcmVzcG9uc2UgaWYgbm90IGF1dGhvcml6ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVQZXJtaXNzaW9uKFxuICBhdXRoQ29udGV4dDogQXV0aENvbnRleHQsXG4gIHBlcm1pc3Npb246IFBlcm1pc3Npb25cbik6IE5leHRSZXNwb25zZSB8IG51bGwge1xuICBpZiAoIWNoZWNrUGVybWlzc2lvbihhdXRoQ29udGV4dCwgcGVybWlzc2lvbikpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ZvcmJpZGRlbicsXG4gICAgICAgIG1lc3NhZ2U6IGBNaXNzaW5nIHJlcXVpcmVkIHBlcm1pc3Npb246ICR7cGVybWlzc2lvbn1gLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgIClcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBGSVJNIElEIFZBTElEQVRJT04gKE5PIEhBUkRDT0RFRCBGQUxMQkFDS1MpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IGZpcm0gSUQgZnJvbSBhdXRoIGNvbnRleHQgd2l0aCB2YWxpZGF0aW9uXG4gKiBJTVBPUlRBTlQ6IERvZXMgTk9UIHVzZSBoYXJkY29kZWQgZmFsbGJhY2tzIGZvciBzZWN1cml0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsaWRhdGVkRmlybUlkKGF1dGhDb250ZXh0OiBBdXRoQ29udGV4dCk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBmaXJtSWQgPSBhdXRoQ29udGV4dC5maXJtSWRcblxuICAvLyBWYWxpZGF0ZSBVVUlEIGZvcm1hdFxuICBpZiAoIWZpcm1JZCkgcmV0dXJuIG51bGxcblxuICBjb25zdCB1dWlkUmVnZXggPSAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pXG4gIGlmICghdXVpZFJlZ2V4LnRlc3QoZmlybUlkKSkge1xuICAgIGNvbnNvbGUud2FybignW0F1dGhdIEludmFsaWQgZmlybSBJRCBmb3JtYXQ6JywgZmlybUlkKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBSZWplY3Qga25vd24gdGVzdC9wbGFjZWhvbGRlciBVVUlEc1xuICBjb25zdCBpbnZhbGlkSWRzID0gW1xuICAgICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDEnLFxuICAgICcxMjM0NTY3OC0xMjM0LTEyMzQtMTIzNC0xMjM0NTY3ODkwMTInXG4gIF1cblxuICBpZiAoaW52YWxpZElkcy5pbmNsdWRlcyhmaXJtSWQpKSB7XG4gICAgY29uc29sZS53YXJuKCdbQXV0aF0gUmVqZWN0ZWQgcGxhY2Vob2xkZXIgZmlybSBJRDonLCBmaXJtSWQpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBmaXJtSWRcbn1cblxuLyoqXG4gKiBSZXF1aXJlIGZpcm0gSUQsIHJldHVybnMgZXJyb3IgcmVzcG9uc2UgaWYgbWlzc2luZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZUZpcm1JZChhdXRoQ29udGV4dDogQXV0aENvbnRleHQpOiB7IGZpcm1JZDogc3RyaW5nIH0gfCBOZXh0UmVzcG9uc2Uge1xuICBjb25zdCBmaXJtSWQgPSBnZXRWYWxpZGF0ZWRGaXJtSWQoYXV0aENvbnRleHQpXG5cbiAgaWYgKCFmaXJtSWQpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Zpcm0gSUQgcmVxdWlyZWQnLFxuICAgICAgICBtZXNzYWdlOiAnWW91ciBhY2NvdW50IGlzIG5vdCBhc3NvY2lhdGVkIHdpdGggYSBmaXJtLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0LicsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHsgZmlybUlkIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJjcmVhdGVTdXBhYmFzZUpzQ2xpZW50IiwiZ2V0RGVmYXVsdEZpcm1JZCIsImVudkRlZmF1bHRGaXJtSWQiLCJwcm9jZXNzIiwiZW52IiwiREVGQVVMVF9GSVJNX0lEIiwiTkVYVF9QVUJMSUNfREVGQVVMVF9GSVJNX0lEIiwidHJpbSIsIm5vcm1hbGl6ZU9wdGlvbmFsU3RyaW5nIiwidmFsdWUiLCJ0cmltbWVkIiwibm9ybWFsaXplRmlybUlkIiwiZGVjb2RlQmFzZTY0VXJsIiwiYmFzZTY0IiwicmVwbGFjZSIsInBhZGRlZCIsInJlcGVhdCIsImxlbmd0aCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsImdsb2JhbFRoaXMiLCJhdG9iIiwiZXh0cmFjdEFjY2Vzc1Rva2VuRnJvbVNlc3Npb25QYXlsb2FkIiwicGF5bG9hZCIsIm9iaiIsImRpcmVjdCIsImFjY2Vzc190b2tlbiIsImN1cnJlbnQiLCJjdXJyZW50U2Vzc2lvbiIsIm5lc3RlZCIsImRhdGEiLCJzZXNzaW9uIiwiZ2V0U3VwYWJhc2VQcm9qZWN0UmVmRnJvbUVudiIsInVybCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsImhvc3RuYW1lIiwiVVJMIiwicmVmIiwic3BsaXQiLCJwYXJzZUNvb2tpZUhlYWRlciIsImNvb2tpZUhlYWRlciIsInJlc3VsdCIsInBhcnRzIiwicGFydCIsInJhd05hbWUiLCJyZXN0IiwibmFtZSIsImpvaW4iLCJyZWFkQ2h1bmtlZENvb2tpZSIsImNvb2tpZXMiLCJrZXkiLCJjaHVua3MiLCJPYmplY3QiLCJlbnRyaWVzIiwic3RhcnRzV2l0aCIsInN1ZmZpeCIsInNsaWNlIiwiaWR4IiwiTnVtYmVyIiwicGFyc2VJbnQiLCJpc05hTiIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJtYXAiLCJjIiwiZXh0cmFjdEFjY2Vzc1Rva2VuRnJvbVN1cGFiYXNlQ29va2llIiwicmVxdWVzdCIsImhlYWRlcnMiLCJnZXQiLCJwcmltYXJ5S2V5IiwiY2FuZGlkYXRlS2V5cyIsImtleXMiLCJpbmNsdWRlcyIsImJhc2UiLCJyYXciLCJkZWNvZGVkVmFsdWUiLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJ0b2tlbiIsImdldEF1dGhDb250ZXh0IiwiYXV0aEhlYWRlciIsImJlYXJlclRva2VuIiwiY29va2llQWNjZXNzVG9rZW4iLCJzdXBhYmFzZSIsInVzZXIiLCJhdXRoRXJyb3IiLCJjb29raWVSZXN1bHQiLCJhdXRoIiwiZ2V0VXNlciIsImVycm9yIiwidG9rZW5DYW5kaWRhdGVzIiwiZmlsdGVyIiwiYW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VjY2VzcyIsInJlc3BvbnNlIiwianNvbiIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJ0b2tlbkNsaWVudCIsImdsb2JhbCIsIkF1dGhvcml6YXRpb24iLCJwZXJzaXN0U2Vzc2lvbiIsImF1dG9SZWZyZXNoVG9rZW4iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJ0b2tlblJlc3VsdCIsInByb2ZpbGUiLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwibWV0YWRhdGEiLCJ1c2VyX21ldGFkYXRhIiwibWV0YWRhdGFSb2xlIiwicm9sZSIsIm1ldGFkYXRhRmlybUlkIiwiZmlybV9pZCIsImZpcm1JZCIsIm1ldGFkYXRhQWR2aXNvcklkIiwiYWR2aXNvcl9pZCIsImFkdmlzb3JJZCIsImRlZmF1bHRGaXJtSWQiLCJjb250ZXh0IiwidXNlcklkIiwiZW1haWwiLCJjb25zb2xlIiwidmFsaWRhdGVBdXRoIiwib3B0aW9ucyIsInJlcXVpcmVBdXRoIiwicmVxdWlyZVJvbGUiLCJhbGxvd1B1YmxpYyIsImF1dGhSZXN1bHQiLCJ1c2VyUm9sZSIsInJlcXVpcmVkUm9sZXMiLCJ3aXRoQXV0aCIsImhhbmRsZXIiLCJhcmdzIiwidW5kZWZpbmVkIiwiZ2V0QWR2aXNvclByb2ZpbGUiLCJnZXRGaXJtRGV0YWlscyIsImZpcm0iLCJST0xFUyIsIkFETUlOIiwiQURWSVNPUiIsIkNPTVBMSUFOQ0UiLCJTVVBQT1JUIiwiQ0xJRU5UIiwiY2FuQWNjZXNzQ2xpZW50IiwiYXV0aENvbnRleHQiLCJjbGllbnRBZHZpc29ySWQiLCJjYW5Nb2RpZnlEb2N1bWVudCIsImRvY3VtZW50QWR2aXNvcklkIiwiaXNBZG1pbiIsImlzQWR2aXNvciIsImlzQ29tcGxpYW5jZSIsIlJPTEVfUEVSTUlTU0lPTlMiLCJhZG1pbiIsImFkdmlzb3IiLCJjb21wbGlhbmNlIiwic3VwcG9ydCIsImNsaWVudCIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwicGVybWlzc2lvbnMiLCJjaGVja1Blcm1pc3Npb24iLCJyZXF1aXJlUGVybWlzc2lvbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImdldFZhbGlkYXRlZEZpcm1JZCIsInV1aWRSZWdleCIsInRlc3QiLCJ3YXJuIiwiaW52YWxpZElkcyIsInJlcXVpcmVGaXJtSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/apiAuth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/notifications/notificationService.ts":
/*!******************************************************!*\
  !*** ./src/lib/notifications/notificationService.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NotificationService: () => (/* binding */ NotificationService),\n/* harmony export */   notifyATRCompleted: () => (/* binding */ notifyATRCompleted),\n/* harmony export */   notifyAssessmentCompleted: () => (/* binding */ notifyAssessmentCompleted),\n/* harmony export */   notifyClientAdded: () => (/* binding */ notifyClientAdded),\n/* harmony export */   notifyComplianceAlert: () => (/* binding */ notifyComplianceAlert),\n/* harmony export */   notifyDocumentDownloaded: () => (/* binding */ notifyDocumentDownloaded),\n/* harmony export */   notifyDocumentGenerated: () => (/* binding */ notifyDocumentGenerated),\n/* harmony export */   notifyMonteCarloCompleted: () => (/* binding */ notifyMonteCarloCompleted),\n/* harmony export */   notifyProfileUpdated: () => (/* binding */ notifyProfileUpdated),\n/* harmony export */   notifyReviewCompleted: () => (/* binding */ notifyReviewCompleted),\n/* harmony export */   notifyReviewDue: () => (/* binding */ notifyReviewDue),\n/* harmony export */   notifyReviewOverdue: () => (/* binding */ notifyReviewOverdue),\n/* harmony export */   notifySignatureCompleted: () => (/* binding */ notifySignatureCompleted),\n/* harmony export */   notifyStressTestCompleted: () => (/* binding */ notifyStressTestCompleted)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase/serviceClient */ \"(rsc)/./src/lib/supabase/serviceClient.ts\");\n/* harmony import */ var _types_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/types/notifications */ \"(rsc)/./src/types/notifications.ts\");\n\n\nconst DEDUPE_WINDOW_HOURS = {\n    // Prevent accidental double-toasts/double-click spam.\n    document_generated: 2,\n    document_ready: 2,\n    document_downloaded: 1,\n    assessment_completed: 2,\n    assessment_submitted: 2,\n    atr_completed: 2,\n    profile_updated: 1,\n    stress_test_completed: 1,\n    monte_carlo_completed: 1,\n    signature_completed: 2,\n    signature_requested: 2,\n    signature_reminder: 6,\n    review_due: 12,\n    review_completed: 12,\n    review_overdue: 24,\n    client_added: 24,\n    compliance_alert: 2\n};\n// =====================================================\n// NOTIFICATION SERVICE\n// =====================================================\nclass NotificationService {\n    /**\n   * Create a new notification\n   */ static async create(input) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        // Apply default priority if not specified\n        const priority = input.priority ?? _types_notifications__WEBPACK_IMPORTED_MODULE_1__.NOTIFICATION_CONFIG[input.type]?.defaultPriority ?? \"normal\";\n        // Best-effort dedupe to avoid repeated notifications on retry/double-click.\n        const dedupeHours = DEDUPE_WINDOW_HOURS[input.type] ?? 0;\n        if (dedupeHours > 0 && input.entity_id) {\n            const cutoff = new Date(Date.now() - dedupeHours * 60 * 60 * 1000).toISOString();\n            let query = supabase.from(\"notifications\").select(\"*\").eq(\"user_id\", input.user_id).eq(\"type\", input.type).eq(\"entity_id\", input.entity_id).gte(\"created_at\", cutoff).order(\"created_at\", {\n                ascending: false\n            }).limit(1);\n            if (input.entity_type) {\n                query = query.eq(\"entity_type\", input.entity_type);\n            }\n            const { data: existing, error: existingError } = await query.maybeSingle();\n            if (existing) {\n                return existing;\n            }\n            if (existingError) {\n                // Don't block creation on dedupe lookup issues.\n                console.warn(\"Notification dedupe lookup failed:\", existingError);\n            }\n        }\n        const { data, error } = await supabase.from(\"notifications\").insert({\n            ...input,\n            priority,\n            read: false\n        }).select().single();\n        if (error) {\n            console.error(\"Failed to create notification:\", error);\n            return null;\n        }\n        return data;\n    }\n    /**\n   * Create notifications for multiple users (e.g., firm-wide)\n   */ static async createBulk(userIds, input) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        const notifications = userIds.map((user_id)=>({\n                ...input,\n                user_id,\n                priority: input.priority ?? _types_notifications__WEBPACK_IMPORTED_MODULE_1__.NOTIFICATION_CONFIG[input.type]?.defaultPriority ?? \"normal\",\n                read: false\n            }));\n        const { data, error } = await supabase.from(\"notifications\").insert(notifications).select();\n        if (error) {\n            console.error(\"Failed to create bulk notifications:\", error);\n            return 0;\n        }\n        return data?.length ?? 0;\n    }\n    /**\n   * Get notifications for a user (queries by firm_id for firm-wide notifications)\n   */ static async getForUser(userId, options = {}) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        const { limit = 20, offset = 0, unreadOnly = false, before } = options;\n        // Get user's firm_id if not provided\n        let firmId = options.firmId;\n        if (!firmId) {\n            const { data: profile } = await supabase.from(\"profiles\").select(\"firm_id\").eq(\"id\", userId).single();\n            firmId = profile?.firm_id ?? undefined;\n        }\n        // Query notifications by firm_id (firm-wide) OR user_id (user-specific)\n        let query = supabase.from(\"notifications\").select(\"*\", {\n            count: \"exact\"\n        }).order(\"created_at\", {\n            ascending: false\n        });\n        // Use firm_id if available, otherwise fall back to user_id\n        if (firmId) {\n            query = query.or(`firm_id.eq.${firmId},user_id.eq.${userId}`);\n        } else {\n            query = query.eq(\"user_id\", userId);\n        }\n        if (unreadOnly) {\n            query = query.eq(\"read\", false);\n        }\n        if (before) {\n            query = query.lt(\"created_at\", before).range(0, limit - 1);\n        } else {\n            query = query.range(offset, offset + limit - 1);\n        }\n        const { data, error, count } = await query;\n        if (error) {\n            const baseMessage = isMissingTableError(error) ? \"Notifications are not configured (missing database table).\" : \"Failed to fetch notifications.\";\n            const err = new Error(baseMessage);\n            err.code = isMissingTableError(error) ? \"NOTIFICATIONS_TABLE_MISSING\" : error.code;\n            err.cause = error;\n            throw err;\n        }\n        // Get unread count separately (also firm-wide)\n        let unreadQuery = supabase.from(\"notifications\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        }).eq(\"read\", false);\n        if (firmId) {\n            unreadQuery = unreadQuery.or(`firm_id.eq.${firmId},user_id.eq.${userId}`);\n        } else {\n            unreadQuery = unreadQuery.eq(\"user_id\", userId);\n        }\n        const { count: unreadCount, error: unreadError } = await unreadQuery;\n        if (unreadError) {\n            const err = new Error(\"Failed to fetch unread notification count.\");\n            err.code = unreadError.code;\n            err.cause = unreadError;\n            throw err;\n        }\n        return {\n            notifications: data ?? [],\n            total: count ?? 0,\n            unread: unreadCount ?? 0\n        };\n    }\n    /**\n   * Get unread count for a user (firm-wide)\n   */ static async getUnreadCount(userId, firmId) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        // Get user's firm_id if not provided\n        let resolvedFirmId = firmId;\n        if (!resolvedFirmId) {\n            const { data: profile } = await supabase.from(\"profiles\").select(\"firm_id\").eq(\"id\", userId).single();\n            resolvedFirmId = profile?.firm_id ?? undefined;\n        }\n        let query = supabase.from(\"notifications\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        }).eq(\"read\", false);\n        if (resolvedFirmId) {\n            query = query.or(`firm_id.eq.${resolvedFirmId},user_id.eq.${userId}`);\n        } else {\n            query = query.eq(\"user_id\", userId);\n        }\n        const { count, error } = await query;\n        if (error) {\n            const err = new Error(\"Failed to get unread notifications count.\");\n            err.code = error.code;\n            err.cause = error;\n            throw err;\n        }\n        return count ?? 0;\n    }\n    /**\n   * Mark notification as read\n   * Supports both user-specific and firm-wide notifications\n   */ static async markAsRead(notificationId, userId, firmId) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        // Get user's firm_id if not provided\n        let resolvedFirmId = firmId;\n        if (!resolvedFirmId) {\n            const { data: profile } = await supabase.from(\"profiles\").select(\"firm_id\").eq(\"id\", userId).single();\n            resolvedFirmId = profile?.firm_id ?? undefined;\n        }\n        // Build query that matches user's notifications OR firm-wide notifications they can see\n        let query = supabase.from(\"notifications\").update({\n            read: true,\n            read_at: new Date().toISOString()\n        }).eq(\"id\", notificationId);\n        if (resolvedFirmId) {\n            query = query.or(`user_id.eq.${userId},firm_id.eq.${resolvedFirmId}`);\n        } else {\n            query = query.eq(\"user_id\", userId);\n        }\n        const { error } = await query;\n        if (error) {\n            const err = new Error(\"Failed to mark notification as read.\");\n            err.code = error.code;\n            err.cause = error;\n            throw err;\n        }\n        return true;\n    }\n    /**\n   * Mark all notifications as read for a user\n   * Supports both user-specific and firm-wide notifications\n   */ static async markAllAsRead(userId, firmId) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        // Get user's firm_id if not provided\n        let resolvedFirmId = firmId;\n        if (!resolvedFirmId) {\n            const { data: profile } = await supabase.from(\"profiles\").select(\"firm_id\").eq(\"id\", userId).single();\n            resolvedFirmId = profile?.firm_id ?? undefined;\n        }\n        // Build query that matches user's notifications OR firm-wide notifications\n        let query = supabase.from(\"notifications\").update({\n            read: true,\n            read_at: new Date().toISOString()\n        }).eq(\"read\", false);\n        if (resolvedFirmId) {\n            query = query.or(`user_id.eq.${userId},firm_id.eq.${resolvedFirmId}`);\n        } else {\n            query = query.eq(\"user_id\", userId);\n        }\n        const { data, error } = await query.select();\n        if (error) {\n            const err = new Error(\"Failed to mark all notifications as read.\");\n            err.code = error.code;\n            err.cause = error;\n            throw err;\n        }\n        return data?.length ?? 0;\n    }\n    /**\n   * Delete a notification\n   * Supports both user-specific and firm-wide notifications\n   */ static async delete(notificationId, userId, firmId) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        // Get user's firm_id if not provided\n        let resolvedFirmId = firmId;\n        if (!resolvedFirmId) {\n            const { data: profile } = await supabase.from(\"profiles\").select(\"firm_id\").eq(\"id\", userId).single();\n            resolvedFirmId = profile?.firm_id ?? undefined;\n        }\n        // Build query that matches user's notifications OR firm-wide notifications\n        let query = supabase.from(\"notifications\").delete().eq(\"id\", notificationId);\n        if (resolvedFirmId) {\n            query = query.or(`user_id.eq.${userId},firm_id.eq.${resolvedFirmId}`);\n        } else {\n            query = query.eq(\"user_id\", userId);\n        }\n        const { error } = await query;\n        if (error) {\n            const err = new Error(\"Failed to delete notification.\");\n            err.code = error.code;\n            err.cause = error;\n            throw err;\n        }\n        return true;\n    }\n    /**\n   * Delete all read notifications older than X days\n   */ static async cleanup(userId, daysOld = 30) {\n        const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n        const cutoffDate = new Date();\n        cutoffDate.setDate(cutoffDate.getDate() - daysOld);\n        const { data, error } = await supabase.from(\"notifications\").delete().eq(\"user_id\", userId).eq(\"read\", true).lt(\"created_at\", cutoffDate.toISOString()).select();\n        if (error) {\n            const err = new Error(\"Failed to cleanup notifications.\");\n            err.code = error.code;\n            err.cause = error;\n            throw err;\n        }\n        return data?.length ?? 0;\n    }\n}\nfunction isMissingTableError(error) {\n    const message = typeof error?.message === \"string\" ? error.message : \"\";\n    const details = typeof error?.details === \"string\" ? error.details : \"\";\n    const combined = `${message} ${details}`.toLowerCase();\n    return combined.includes(\"could not find\") && combined.includes(\"notifications\") || combined.includes(\"relation\") && combined.includes(\"notifications\") && combined.includes(\"does not exist\") || combined.includes(\"schema cache\") && combined.includes(\"notifications\");\n}\n// =====================================================\n// HELPER FUNCTIONS FOR COMMON NOTIFICATIONS\n// =====================================================\nasync function notifyReviewDue(userId, clientId, clientName, reviewId, dueDate) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        entity_type: \"review\",\n        entity_id: reviewId,\n        type: \"review_due\",\n        title: `Review due for ${clientName}`,\n        message: `Annual review due on ${new Date(dueDate).toLocaleDateString()}`,\n        action_url: `/clients/${clientId}?tab=reviews`,\n        priority: \"normal\"\n    });\n}\nasync function notifyReviewOverdue(userId, clientId, clientName, reviewId) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        entity_type: \"review\",\n        entity_id: reviewId,\n        type: \"review_overdue\",\n        title: `Overdue review: ${clientName}`,\n        message: `This client's review is overdue. Please schedule immediately.`,\n        action_url: `/clients/${clientId}?tab=reviews`,\n        priority: \"high\"\n    });\n}\nasync function notifyReviewCompleted(userId, clientId, clientName, reviewId) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        entity_type: \"review\",\n        entity_id: reviewId,\n        type: \"review_completed\",\n        title: `Review completed: ${clientName}`,\n        message: `Annual review has been completed successfully`,\n        action_url: `/clients/${clientId}?tab=reviews`,\n        priority: \"normal\"\n    });\n}\nasync function notifyDocumentGenerated(userId, clientId, clientName, documentId, documentName) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        entity_type: \"document\",\n        entity_id: documentId,\n        type: \"document_generated\",\n        title: `Document ready: ${documentName}`,\n        message: `Report generated for ${clientName}`,\n        action_url: `/documents/${documentId}`,\n        priority: \"normal\"\n    });\n}\nasync function notifySignatureCompleted(userId, clientId, clientName, documentId, documentName) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        entity_type: \"signature\",\n        entity_id: documentId,\n        type: \"signature_completed\",\n        title: `Document signed: ${documentName}`,\n        message: `${clientName} has signed the document`,\n        action_url: `/documents/${documentId}`,\n        priority: \"normal\"\n    });\n}\nasync function notifyAssessmentCompleted(userId, clientId, clientName, assessmentId, assessmentType, firmId) {\n    await NotificationService.create({\n        user_id: userId,\n        firm_id: firmId,\n        client_id: clientId,\n        entity_type: \"assessment\",\n        entity_id: assessmentId,\n        type: \"assessment_completed\",\n        title: `Assessment completed: ${clientName}`,\n        message: `${assessmentType} assessment has been completed and is ready for review`,\n        action_url: `/clients/${clientId}?tab=risk`,\n        priority: \"high\"\n    });\n}\nasync function notifyClientAdded(userId, clientId, clientName) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        entity_type: \"client\",\n        entity_id: clientId,\n        type: \"client_added\",\n        title: `New client: ${clientName}`,\n        message: `Client profile has been created`,\n        action_url: `/clients/${clientId}`,\n        priority: \"low\"\n    });\n}\nasync function notifyComplianceAlert(userId, title, message, actionUrl, clientId) {\n    await NotificationService.create({\n        user_id: userId,\n        client_id: clientId,\n        type: \"compliance_alert\",\n        title,\n        message,\n        action_url: actionUrl,\n        priority: \"urgent\"\n    });\n}\n/**\n * Helper to get user's firm_id for firm-wide notifications\n */ async function getUserFirmId(userId) {\n    const supabase = (0,_lib_supabase_serviceClient__WEBPACK_IMPORTED_MODULE_0__.getSupabaseServiceClient)();\n    const { data: profile } = await supabase.from(\"profiles\").select(\"firm_id\").eq(\"id\", userId).single();\n    return profile?.firm_id ?? undefined;\n}\nasync function notifyProfileUpdated(userId, clientId, clientName) {\n    console.log(\"[Notification] Creating profile_updated notification\", {\n        userId,\n        clientId,\n        clientName\n    });\n    const firmId = await getUserFirmId(userId);\n    console.log(\"[Notification] Got firm_id:\", firmId);\n    const result = await NotificationService.create({\n        user_id: userId,\n        firm_id: firmId,\n        client_id: clientId,\n        entity_type: \"client\",\n        entity_id: clientId,\n        type: \"profile_updated\",\n        title: `Profile updated: ${clientName}`,\n        message: `Client profile has been updated`,\n        action_url: `/clients/${clientId}`,\n        priority: \"low\"\n    });\n    console.log(\"[Notification] Result:\", result ? \"created\" : \"deduplicated or failed\");\n}\nasync function notifyATRCompleted(userId, clientId, clientName, assessmentId, score) {\n    const firmId = await getUserFirmId(userId);\n    await NotificationService.create({\n        user_id: userId,\n        firm_id: firmId,\n        client_id: clientId,\n        entity_type: \"assessment\",\n        entity_id: assessmentId,\n        type: \"atr_completed\",\n        title: `ATR completed: ${clientName}`,\n        message: `Risk assessment completed with score ${score}`,\n        action_url: `/clients/${clientId}?tab=risk`,\n        priority: \"normal\"\n    });\n}\nasync function notifyStressTestCompleted(userId, clientId, clientName, testId) {\n    const firmId = await getUserFirmId(userId);\n    await NotificationService.create({\n        user_id: userId,\n        firm_id: firmId,\n        client_id: clientId,\n        entity_type: \"simulation\",\n        entity_id: testId,\n        type: \"stress_test_completed\",\n        title: `Stress test completed: ${clientName}`,\n        message: `Portfolio stress test analysis is ready`,\n        action_url: `/clients/${clientId}?tab=stress-testing`,\n        priority: \"normal\"\n    });\n}\nasync function notifyMonteCarloCompleted(userId, clientId, clientName, simulationId) {\n    const firmId = await getUserFirmId(userId);\n    await NotificationService.create({\n        user_id: userId,\n        firm_id: firmId,\n        client_id: clientId,\n        entity_type: \"simulation\",\n        entity_id: simulationId,\n        type: \"monte_carlo_completed\",\n        title: `Monte Carlo completed: ${clientName}`,\n        message: `Portfolio simulation analysis is ready`,\n        action_url: `/clients/${clientId}?tab=monte-carlo`,\n        priority: \"normal\"\n    });\n}\nasync function notifyDocumentDownloaded(userId, clientId, clientName, documentId, documentName) {\n    const firmId = await getUserFirmId(userId);\n    await NotificationService.create({\n        user_id: userId,\n        firm_id: firmId,\n        client_id: clientId,\n        entity_type: \"document\",\n        entity_id: documentId,\n        type: \"document_downloaded\",\n        title: `Document downloaded: ${documentName}`,\n        message: `Document for ${clientName} was downloaded`,\n        action_url: `/documents/${documentId}`,\n        priority: \"low\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL25vdGlmaWNhdGlvbnMvbm90aWZpY2F0aW9uU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVFO0FBTVo7QUFFM0QsTUFBTUUsc0JBQWlFO0lBQ3JFLHNEQUFzRDtJQUN0REMsb0JBQW9CO0lBQ3BCQyxnQkFBZ0I7SUFDaEJDLHFCQUFxQjtJQUNyQkMsc0JBQXNCO0lBQ3RCQyxzQkFBc0I7SUFDdEJDLGVBQWU7SUFDZkMsaUJBQWlCO0lBQ2pCQyx1QkFBdUI7SUFDdkJDLHVCQUF1QjtJQUN2QkMscUJBQXFCO0lBQ3JCQyxxQkFBcUI7SUFDckJDLG9CQUFvQjtJQUNwQkMsWUFBWTtJQUNaQyxrQkFBa0I7SUFDbEJDLGdCQUFnQjtJQUNoQkMsY0FBYztJQUNkQyxrQkFBa0I7QUFDcEI7QUFFQSx3REFBd0Q7QUFDeEQsdUJBQXVCO0FBQ3ZCLHdEQUF3RDtBQUVqRCxNQUFNQztJQUVYOztHQUVDLEdBQ0QsYUFBYUMsT0FBT0MsS0FBOEIsRUFBZ0M7UUFDaEYsTUFBTUMsV0FBV3ZCLHFGQUF3QkE7UUFFekMsMENBQTBDO1FBQzFDLE1BQU13QixXQUFXRixNQUFNRSxRQUFRLElBQzdCdkIscUVBQW1CLENBQUNxQixNQUFNRyxJQUFJLENBQUMsRUFBRUMsbUJBQW1CO1FBRXRELDRFQUE0RTtRQUM1RSxNQUFNQyxjQUFjekIsbUJBQW1CLENBQUNvQixNQUFNRyxJQUFJLENBQXFCLElBQUk7UUFDM0UsSUFBSUUsY0FBYyxLQUFLTCxNQUFNTSxTQUFTLEVBQUU7WUFDdEMsTUFBTUMsU0FBUyxJQUFJQyxLQUFLQSxLQUFLQyxHQUFHLEtBQUtKLGNBQWMsS0FBSyxLQUFLLE1BQU1LLFdBQVc7WUFFOUUsSUFBSUMsUUFBUVYsU0FDVFcsSUFBSSxDQUFDLGlCQUNMQyxNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLFdBQVdkLE1BQU1lLE9BQU8sRUFDM0JELEVBQUUsQ0FBQyxRQUFRZCxNQUFNRyxJQUFJLEVBQ3JCVyxF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LFNBQVNGO1FBQ1QyQyxXQUFXSjtRQUNYN0QsYUFBYTtRQUNiZCxXQUFXc0Y7UUFDWHpGLE1BQU07UUFDTm1GLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRU8sYUFBYSxDQUFDO1FBQzdDbEIsU0FBUyxDQUFDLGFBQWEsRUFBRU8sV0FBVyxlQUFlLENBQUM7UUFDcERNLFlBQVksQ0FBQyxXQUFXLEVBQUVJLFdBQVcsQ0FBQztRQUN0QzFGLFVBQVU7SUFDWjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm5ldGljLXBsYXRmb3JtLy4vc3JjL2xpYi9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvblNlcnZpY2UudHM/NDI4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2aWNlQ2xpZW50J1xuaW1wb3J0IHR5cGUge1xuICBOb3RpZmljYXRpb24sXG4gIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuICBOb3RpZmljYXRpb25UeXBlXG59IGZyb20gJ0AvdHlwZXMvbm90aWZpY2F0aW9ucydcbmltcG9ydCB7IE5PVElGSUNBVElPTl9DT05GSUcgfSBmcm9tICdAL3R5cGVzL25vdGlmaWNhdGlvbnMnXG5cbmNvbnN0IERFRFVQRV9XSU5ET1dfSE9VUlM6IFBhcnRpYWw8UmVjb3JkPE5vdGlmaWNhdGlvblR5cGUsIG51bWJlcj4+ID0ge1xuICAvLyBQcmV2ZW50IGFjY2lkZW50YWwgZG91YmxlLXRvYXN0cy9kb3VibGUtY2xpY2sgc3BhbS5cbiAgZG9jdW1lbnRfZ2VuZXJhdGVkOiAyLFxuICBkb2N1bWVudF9yZWFkeTogMixcbiAgZG9jdW1lbnRfZG93bmxvYWRlZDogMSxcbiAgYXNzZXNzbWVudF9jb21wbGV0ZWQ6IDIsXG4gIGFzc2Vzc21lbnRfc3VibWl0dGVkOiAyLFxuICBhdHJfY29tcGxldGVkOiAyLFxuICBwcm9maWxlX3VwZGF0ZWQ6IDEsXG4gIHN0cmVzc190ZXN0X2NvbXBsZXRlZDogMSxcbiAgbW9udGVfY2FybG9fY29tcGxldGVkOiAxLFxuICBzaWduYXR1cmVfY29tcGxldGVkOiAyLFxuICBzaWduYXR1cmVfcmVxdWVzdGVkOiAyLFxuICBzaWduYXR1cmVfcmVtaW5kZXI6IDYsXG4gIHJldmlld19kdWU6IDEyLFxuICByZXZpZXdfY29tcGxldGVkOiAxMixcbiAgcmV2aWV3X292ZXJkdWU6IDI0LFxuICBjbGllbnRfYWRkZWQ6IDI0LFxuICBjb21wbGlhbmNlX2FsZXJ0OiAyXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOT1RJRklDQVRJT04gU0VSVklDRVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvblNlcnZpY2Uge1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCk6IFByb21pc2U8Tm90aWZpY2F0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VTZXJ2aWNlQ2xpZW50KClcblxuICAgIC8vIEFwcGx5IGRlZmF1bHQgcHJpb3JpdHkgaWYgbm90IHNwZWNpZmllZFxuICAgIGNvbnN0IHByaW9yaXR5ID0gaW5wdXQucHJpb3JpdHkgPz9cbiAgICAgIE5PVElGSUNBVElPTl9DT05GSUdbaW5wdXQudHlwZV0/LmRlZmF1bHRQcmlvcml0eSA/PyAnbm9ybWFsJ1xuXG4gICAgLy8gQmVzdC1lZmZvcnQgZGVkdXBlIHRvIGF2b2lkIHJlcGVhdGVkIG5vdGlmaWNhdGlvbnMgb24gcmV0cnkvZG91YmxlLWNsaWNrLlxuICAgIGNvbnN0IGRlZHVwZUhvdXJzID0gREVEVVBFX1dJTkRPV19IT1VSU1tpbnB1dC50eXBlIGFzIE5vdGlmaWNhdGlvblR5cGVdID8/IDBcbiAgICBpZiAoZGVkdXBlSG91cnMgPiAwICYmIGlucHV0LmVudGl0eV9pZCkge1xuICAgICAgY29uc3QgY3V0b2ZmID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIGRlZHVwZUhvdXJzICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcblxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnIGFzIGFueSlcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIGlucHV0LnVzZXJfaWQpXG4gICAgICAgIC5lcSgndHlwZScsIGlucHV0LnR5cGUpXG4gICAgICAgIC5lcSgnZW50aXR5X2lkJywgaW5wdXQuZW50aXR5X2lkKVxuICAgICAgICAuZ3RlKCdjcmVhdGVkX2F0JywgY3V0b2ZmKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgLmxpbWl0KDEpXG5cbiAgICAgIGlmIChpbnB1dC5lbnRpdHlfdHlwZSkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdlbnRpdHlfdHlwZScsIGlucHV0LmVudGl0eV90eXBlKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nLCBlcnJvcjogZXhpc3RpbmdFcnJvciB9ID0gYXdhaXQgKHF1ZXJ5IGFzIGFueSkubWF5YmVTaW5nbGUoKVxuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZyBhcyBOb3RpZmljYXRpb25cbiAgICAgIH1cbiAgICAgIGlmIChleGlzdGluZ0Vycm9yKSB7XG4gICAgICAgIC8vIERvbid0IGJsb2NrIGNyZWF0aW9uIG9uIGRlZHVwZSBsb29rdXAgaXNzdWVzLlxuICAgICAgICBjb25zb2xlLndhcm4oJ05vdGlmaWNhdGlvbiBkZWR1cGUgbG9va3VwIGZhaWxlZDonLCBleGlzdGluZ0Vycm9yKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIHByaW9yaXR5LFxuICAgICAgICByZWFkOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgbm90aWZpY2F0aW9uOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YSBhcyBOb3RpZmljYXRpb25cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgbm90aWZpY2F0aW9ucyBmb3IgbXVsdGlwbGUgdXNlcnMgKGUuZy4sIGZpcm0td2lkZSlcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVCdWxrKFxuICAgIHVzZXJJZHM6IHN0cmluZ1tdLFxuICAgIGlucHV0OiBPbWl0PENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LCAndXNlcl9pZCc+XG4gICk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQoKVxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IHVzZXJJZHMubWFwKHVzZXJfaWQgPT4gKHtcbiAgICAgIC4uLmlucHV0LFxuICAgICAgdXNlcl9pZCxcbiAgICAgIHByaW9yaXR5OiBpbnB1dC5wcmlvcml0eSA/P1xuICAgICAgICBOT1RJRklDQVRJT05fQ09ORklHW2lucHV0LnR5cGUgYXMgTm90aWZpY2F0aW9uVHlwZV0/LmRlZmF1bHRQcmlvcml0eSA/PyAnbm9ybWFsJyxcbiAgICAgIHJlYWQ6IGZhbHNlXG4gICAgfSkpXG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnKVxuICAgICAgLmluc2VydChub3RpZmljYXRpb25zKVxuICAgICAgLnNlbGVjdCgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgYnVsayBub3RpZmljYXRpb25zOicsIGVycm9yKVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YT8ubGVuZ3RoID8/IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbm90aWZpY2F0aW9ucyBmb3IgYSB1c2VyIChxdWVyaWVzIGJ5IGZpcm1faWQgZm9yIGZpcm0td2lkZSBub3RpZmljYXRpb25zKVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldEZvclVzZXIoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgb3B0aW9uczoge1xuICAgICAgbGltaXQ/OiBudW1iZXJcbiAgICAgIG9mZnNldD86IG51bWJlclxuICAgICAgdW5yZWFkT25seT86IGJvb2xlYW5cbiAgICAgIGJlZm9yZT86IHN0cmluZ1xuICAgICAgZmlybUlkPzogc3RyaW5nXG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8eyBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSwgdG90YWw6IG51bWJlciwgdW5yZWFkOiBudW1iZXIgfT4ge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VTZXJ2aWNlQ2xpZW50KClcbiAgICBjb25zdCB7IGxpbWl0ID0gMjAsIG9mZnNldCA9IDAsIHVucmVhZE9ubHkgPSBmYWxzZSwgYmVmb3JlIH0gPSBvcHRpb25zXG5cbiAgICAvLyBHZXQgdXNlcidzIGZpcm1faWQgaWYgbm90IHByb3ZpZGVkXG4gICAgbGV0IGZpcm1JZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gb3B0aW9ucy5maXJtSWRcbiAgICBpZiAoIWZpcm1JZCkge1xuICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAuc2VsZWN0KCdmaXJtX2lkJylcbiAgICAgICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAgICAgLnNpbmdsZSgpXG4gICAgICBmaXJtSWQgPSBwcm9maWxlPy5maXJtX2lkID8/IHVuZGVmaW5lZFxuICAgIH1cblxuICAgIC8vIFF1ZXJ5IG5vdGlmaWNhdGlvbnMgYnkgZmlybV9pZCAoZmlybS13aWRlKSBPUiB1c2VyX2lkICh1c2VyLXNwZWNpZmljKVxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXG4gICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JyB9KVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICAvLyBVc2UgZmlybV9pZCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8gdXNlcl9pZFxuICAgIGlmIChmaXJtSWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYGZpcm1faWQuZXEuJHtmaXJtSWR9LHVzZXJfaWQuZXEuJHt1c2VySWR9YClcbiAgICB9IGVsc2Uge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICB9XG5cbiAgICBpZiAodW5yZWFkT25seSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgncmVhZCcsIGZhbHNlKVxuICAgIH1cblxuICAgIGlmIChiZWZvcmUpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnlcbiAgICAgICAgLmx0KCdjcmVhdGVkX2F0JywgYmVmb3JlKVxuICAgICAgICAucmFuZ2UoMCwgbGltaXQgLSAxKVxuICAgIH0gZWxzZSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LnJhbmdlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQgLSAxKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IsIGNvdW50IH0gPSBhd2FpdCBxdWVyeVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zdCBiYXNlTWVzc2FnZSA9IGlzTWlzc2luZ1RhYmxlRXJyb3IoZXJyb3IpXG4gICAgICAgID8gJ05vdGlmaWNhdGlvbnMgYXJlIG5vdCBjb25maWd1cmVkIChtaXNzaW5nIGRhdGFiYXNlIHRhYmxlKS4nXG4gICAgICAgIDogJ0ZhaWxlZCB0byBmZXRjaCBub3RpZmljYXRpb25zLidcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihiYXNlTWVzc2FnZSlcbiAgICAgIDsoZXJyIGFzIGFueSkuY29kZSA9IGlzTWlzc2luZ1RhYmxlRXJyb3IoZXJyb3IpID8gJ05PVElGSUNBVElPTlNfVEFCTEVfTUlTU0lORycgOiAoZXJyb3IgYXMgYW55KS5jb2RlXG4gICAgICA7KGVyciBhcyBhbnkpLmNhdXNlID0gZXJyb3JcbiAgICAgIHRocm93IGVyclxuICAgIH1cblxuICAgIC8vIEdldCB1bnJlYWQgY291bnQgc2VwYXJhdGVseSAoYWxzbyBmaXJtLXdpZGUpXG4gICAgbGV0IHVucmVhZFF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcbiAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAuZXEoJ3JlYWQnLCBmYWxzZSlcblxuICAgIGlmIChmaXJtSWQpIHtcbiAgICAgIHVucmVhZFF1ZXJ5ID0gdW5yZWFkUXVlcnkub3IoYGZpcm1faWQuZXEuJHtmaXJtSWR9LHVzZXJfaWQuZXEuJHt1c2VySWR9YClcbiAgICB9IGVsc2Uge1xuICAgICAgdW5yZWFkUXVlcnkgPSB1bnJlYWRRdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvdW50OiB1bnJlYWRDb3VudCwgZXJyb3I6IHVucmVhZEVycm9yIH0gPSBhd2FpdCB1bnJlYWRRdWVyeVxuXG4gICAgaWYgKHVucmVhZEVycm9yKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50LicpXG4gICAgICA7KGVyciBhcyBhbnkpLmNvZGUgPSAodW5yZWFkRXJyb3IgYXMgYW55KS5jb2RlXG4gICAgICA7KGVyciBhcyBhbnkpLmNhdXNlID0gdW5yZWFkRXJyb3JcbiAgICAgIHRocm93IGVyclxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBub3RpZmljYXRpb25zOiAoZGF0YSA/PyBbXSkgYXMgTm90aWZpY2F0aW9uW10sXG4gICAgICB0b3RhbDogY291bnQgPz8gMCxcbiAgICAgIHVucmVhZDogdW5yZWFkQ291bnQgPz8gMFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdW5yZWFkIGNvdW50IGZvciBhIHVzZXIgKGZpcm0td2lkZSlcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRVbnJlYWRDb3VudCh1c2VySWQ6IHN0cmluZywgZmlybUlkPzogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlU2VydmljZUNsaWVudCgpXG5cbiAgICAvLyBHZXQgdXNlcidzIGZpcm1faWQgaWYgbm90IHByb3ZpZGVkXG4gICAgbGV0IHJlc29sdmVkRmlybUlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBmaXJtSWRcbiAgICBpZiAoIXJlc29sdmVkRmlybUlkKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJ2Zpcm1faWQnKVxuICAgICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKClcbiAgICAgIHJlc29sdmVkRmlybUlkID0gcHJvZmlsZT8uZmlybV9pZCA/PyB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgIC5lcSgncmVhZCcsIGZhbHNlKVxuXG4gICAgaWYgKHJlc29sdmVkRmlybUlkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBmaXJtX2lkLmVxLiR7cmVzb2x2ZWRGaXJtSWR9LHVzZXJfaWQuZXEuJHt1c2VySWR9YClcbiAgICB9IGVsc2Uge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvdW50LCBlcnJvciB9ID0gYXdhaXQgcXVlcnlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IHVucmVhZCBub3RpZmljYXRpb25zIGNvdW50LicpXG4gICAgICA7KGVyciBhcyBhbnkpLmNvZGUgPSAoZXJyb3IgYXMgYW55KS5jb2RlXG4gICAgICA7KGVyciBhcyBhbnkpLmNhdXNlID0gZXJyb3JcbiAgICAgIHRocm93IGVyclxuICAgIH1cblxuICAgIHJldHVybiBjb3VudCA/PyAwXG4gIH1cblxuICAvKipcbiAgICogTWFyayBub3RpZmljYXRpb24gYXMgcmVhZFxuICAgKiBTdXBwb3J0cyBib3RoIHVzZXItc3BlY2lmaWMgYW5kIGZpcm0td2lkZSBub3RpZmljYXRpb25zXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgbWFya0FzUmVhZChub3RpZmljYXRpb25JZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgZmlybUlkPzogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQoKVxuXG4gICAgLy8gR2V0IHVzZXIncyBmaXJtX2lkIGlmIG5vdCBwcm92aWRlZFxuICAgIGxldCByZXNvbHZlZEZpcm1JZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gZmlybUlkXG4gICAgaWYgKCFyZXNvbHZlZEZpcm1JZCkge1xuICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAuc2VsZWN0KCdmaXJtX2lkJylcbiAgICAgICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAgICAgLnNpbmdsZSgpXG4gICAgICByZXNvbHZlZEZpcm1JZCA9IHByb2ZpbGU/LmZpcm1faWQgPz8gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgLy8gQnVpbGQgcXVlcnkgdGhhdCBtYXRjaGVzIHVzZXIncyBub3RpZmljYXRpb25zIE9SIGZpcm0td2lkZSBub3RpZmljYXRpb25zIHRoZXkgY2FuIHNlZVxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXG4gICAgICAudXBkYXRlKHsgcmVhZDogdHJ1ZSwgcmVhZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAuZXEoJ2lkJywgbm90aWZpY2F0aW9uSWQpXG5cbiAgICBpZiAocmVzb2x2ZWRGaXJtSWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYHVzZXJfaWQuZXEuJHt1c2VySWR9LGZpcm1faWQuZXEuJHtyZXNvbHZlZEZpcm1JZH1gKVxuICAgIH0gZWxzZSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignRmFpbGVkIHRvIG1hcmsgbm90aWZpY2F0aW9uIGFzIHJlYWQuJylcbiAgICAgIDsoZXJyIGFzIGFueSkuY29kZSA9IChlcnJvciBhcyBhbnkpLmNvZGVcbiAgICAgIDsoZXJyIGFzIGFueSkuY2F1c2UgPSBlcnJvclxuICAgICAgdGhyb3cgZXJyXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIGEgdXNlclxuICAgKiBTdXBwb3J0cyBib3RoIHVzZXItc3BlY2lmaWMgYW5kIGZpcm0td2lkZSBub3RpZmljYXRpb25zXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgbWFya0FsbEFzUmVhZCh1c2VySWQ6IHN0cmluZywgZmlybUlkPzogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlU2VydmljZUNsaWVudCgpXG5cbiAgICAvLyBHZXQgdXNlcidzIGZpcm1faWQgaWYgbm90IHByb3ZpZGVkXG4gICAgbGV0IHJlc29sdmVkRmlybUlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBmaXJtSWRcbiAgICBpZiAoIXJlc29sdmVkRmlybUlkKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJ2Zpcm1faWQnKVxuICAgICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKClcbiAgICAgIHJlc29sdmVkRmlybUlkID0gcHJvZmlsZT8uZmlybV9pZCA/PyB1bmRlZmluZWRcbiAgICB9XG5cbiAgICAvLyBCdWlsZCBxdWVyeSB0aGF0IG1hdGNoZXMgdXNlcidzIG5vdGlmaWNhdGlvbnMgT1IgZmlybS13aWRlIG5vdGlmaWNhdGlvbnNcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnKVxuICAgICAgLnVwZGF0ZSh7IHJlYWQ6IHRydWUsIHJlYWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxuICAgICAgLmVxKCdyZWFkJywgZmFsc2UpXG5cbiAgICBpZiAocmVzb2x2ZWRGaXJtSWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYHVzZXJfaWQuZXEuJHt1c2VySWR9LGZpcm1faWQuZXEuJHtyZXNvbHZlZEZpcm1JZH1gKVxuICAgIH0gZWxzZSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5LnNlbGVjdCgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignRmFpbGVkIHRvIG1hcmsgYWxsIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC4nKVxuICAgICAgOyhlcnIgYXMgYW55KS5jb2RlID0gKGVycm9yIGFzIGFueSkuY29kZVxuICAgICAgOyhlcnIgYXMgYW55KS5jYXVzZSA9IGVycm9yXG4gICAgICB0aHJvdyBlcnJcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YT8ubGVuZ3RoID8/IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBub3RpZmljYXRpb25cbiAgICogU3VwcG9ydHMgYm90aCB1c2VyLXNwZWNpZmljIGFuZCBmaXJtLXdpZGUgbm90aWZpY2F0aW9uc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZShub3RpZmljYXRpb25JZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgZmlybUlkPzogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQoKVxuXG4gICAgLy8gR2V0IHVzZXIncyBmaXJtX2lkIGlmIG5vdCBwcm92aWRlZFxuICAgIGxldCByZXNvbHZlZEZpcm1JZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gZmlybUlkXG4gICAgaWYgKCFyZXNvbHZlZEZpcm1JZCkge1xuICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAuc2VsZWN0KCdmaXJtX2lkJylcbiAgICAgICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAgICAgLnNpbmdsZSgpXG4gICAgICByZXNvbHZlZEZpcm1JZCA9IHByb2ZpbGU/LmZpcm1faWQgPz8gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgLy8gQnVpbGQgcXVlcnkgdGhhdCBtYXRjaGVzIHVzZXIncyBub3RpZmljYXRpb25zIE9SIGZpcm0td2lkZSBub3RpZmljYXRpb25zXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKCdpZCcsIG5vdGlmaWNhdGlvbklkKVxuXG4gICAgaWYgKHJlc29sdmVkRmlybUlkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGB1c2VyX2lkLmVxLiR7dXNlcklkfSxmaXJtX2lkLmVxLiR7cmVzb2x2ZWRGaXJtSWR9YClcbiAgICB9IGVsc2Uge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICB9XG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBxdWVyeVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgbm90aWZpY2F0aW9uLicpXG4gICAgICA7KGVyciBhcyBhbnkpLmNvZGUgPSAoZXJyb3IgYXMgYW55KS5jb2RlXG4gICAgICA7KGVyciBhcyBhbnkpLmNhdXNlID0gZXJyb3JcbiAgICAgIHRocm93IGVyclxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGFsbCByZWFkIG5vdGlmaWNhdGlvbnMgb2xkZXIgdGhhbiBYIGRheXNcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjbGVhbnVwKHVzZXJJZDogc3RyaW5nLCBkYXlzT2xkOiBudW1iZXIgPSAzMCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQoKVxuICAgIGNvbnN0IGN1dG9mZkRhdGUgPSBuZXcgRGF0ZSgpXG4gICAgY3V0b2ZmRGF0ZS5zZXREYXRlKGN1dG9mZkRhdGUuZ2V0RGF0ZSgpIC0gZGF5c09sZClcblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgIC5lcSgncmVhZCcsIHRydWUpXG4gICAgICAubHQoJ2NyZWF0ZWRfYXQnLCBjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCkpXG4gICAgICAuc2VsZWN0KClcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdGYWlsZWQgdG8gY2xlYW51cCBub3RpZmljYXRpb25zLicpXG4gICAgICA7KGVyciBhcyBhbnkpLmNvZGUgPSAoZXJyb3IgYXMgYW55KS5jb2RlXG4gICAgICA7KGVyciBhcyBhbnkpLmNhdXNlID0gZXJyb3JcbiAgICAgIHRocm93IGVyclxuICAgIH1cblxuICAgIHJldHVybiBkYXRhPy5sZW5ndGggPz8gMFxuICB9XG59XG5cbmZ1bmN0aW9uIGlzTWlzc2luZ1RhYmxlRXJyb3IoZXJyb3I6IHVua25vd24pOiBib29sZWFuIHtcbiAgY29uc3QgbWVzc2FnZSA9IHR5cGVvZiAoZXJyb3IgYXMgYW55KT8ubWVzc2FnZSA9PT0gJ3N0cmluZycgPyAoZXJyb3IgYXMgYW55KS5tZXNzYWdlIDogJydcbiAgY29uc3QgZGV0YWlscyA9IHR5cGVvZiAoZXJyb3IgYXMgYW55KT8uZGV0YWlscyA9PT0gJ3N0cmluZycgPyAoZXJyb3IgYXMgYW55KS5kZXRhaWxzIDogJydcbiAgY29uc3QgY29tYmluZWQgPSBgJHttZXNzYWdlfSAke2RldGFpbHN9YC50b0xvd2VyQ2FzZSgpXG5cbiAgcmV0dXJuIChcbiAgICAoY29tYmluZWQuaW5jbHVkZXMoJ2NvdWxkIG5vdCBmaW5kJykgJiYgY29tYmluZWQuaW5jbHVkZXMoJ25vdGlmaWNhdGlvbnMnKSkgfHxcbiAgICAoY29tYmluZWQuaW5jbHVkZXMoJ3JlbGF0aW9uJykgJiYgY29tYmluZWQuaW5jbHVkZXMoJ25vdGlmaWNhdGlvbnMnKSAmJiBjb21iaW5lZC5pbmNsdWRlcygnZG9lcyBub3QgZXhpc3QnKSkgfHxcbiAgICAoY29tYmluZWQuaW5jbHVkZXMoJ3NjaGVtYSBjYWNoZScpICYmIGNvbWJpbmVkLmluY2x1ZGVzKCdub3RpZmljYXRpb25zJykpXG4gIClcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhFTFBFUiBGVU5DVElPTlMgRk9SIENPTU1PTiBOT1RJRklDQVRJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5UmV2aWV3RHVlKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgY2xpZW50SWQ6IHN0cmluZyxcbiAgY2xpZW50TmFtZTogc3RyaW5nLFxuICByZXZpZXdJZDogc3RyaW5nLFxuICBkdWVEYXRlOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBOb3RpZmljYXRpb25TZXJ2aWNlLmNyZWF0ZSh7XG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgZW50aXR5X3R5cGU6ICdyZXZpZXcnLFxuICAgIGVudGl0eV9pZDogcmV2aWV3SWQsXG4gICAgdHlwZTogJ3Jldmlld19kdWUnLFxuICAgIHRpdGxlOiBgUmV2aWV3IGR1ZSBmb3IgJHtjbGllbnROYW1lfWAsXG4gICAgbWVzc2FnZTogYEFubnVhbCByZXZpZXcgZHVlIG9uICR7bmV3IERhdGUoZHVlRGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9YCxcbiAgICBhY3Rpb25fdXJsOiBgL2NsaWVudHMvJHtjbGllbnRJZH0/dGFiPXJldmlld3NgLFxuICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5UmV2aWV3T3ZlcmR1ZShcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGNsaWVudElkOiBzdHJpbmcsXG4gIGNsaWVudE5hbWU6IHN0cmluZyxcbiAgcmV2aWV3SWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IE5vdGlmaWNhdGlvblNlcnZpY2UuY3JlYXRlKHtcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICBlbnRpdHlfdHlwZTogJ3JldmlldycsXG4gICAgZW50aXR5X2lkOiByZXZpZXdJZCxcbiAgICB0eXBlOiAncmV2aWV3X292ZXJkdWUnLFxuICAgIHRpdGxlOiBgT3ZlcmR1ZSByZXZpZXc6ICR7Y2xpZW50TmFtZX1gLFxuICAgIG1lc3NhZ2U6IGBUaGlzIGNsaWVudCdzIHJldmlldyBpcyBvdmVyZHVlLiBQbGVhc2Ugc2NoZWR1bGUgaW1tZWRpYXRlbHkuYCxcbiAgICBhY3Rpb25fdXJsOiBgL2NsaWVudHMvJHtjbGllbnRJZH0/dGFiPXJldmlld3NgLFxuICAgIHByaW9yaXR5OiAnaGlnaCdcbiAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeVJldmlld0NvbXBsZXRlZChcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGNsaWVudElkOiBzdHJpbmcsXG4gIGNsaWVudE5hbWU6IHN0cmluZyxcbiAgcmV2aWV3SWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IE5vdGlmaWNhdGlvblNlcnZpY2UuY3JlYXRlKHtcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICBlbnRpdHlfdHlwZTogJ3JldmlldycsXG4gICAgZW50aXR5X2lkOiByZXZpZXdJZCxcbiAgICB0eXBlOiAncmV2aWV3X2NvbXBsZXRlZCcsXG4gICAgdGl0bGU6IGBSZXZpZXcgY29tcGxldGVkOiAke2NsaWVudE5hbWV9YCxcbiAgICBtZXNzYWdlOiBgQW5udWFsIHJldmlldyBoYXMgYmVlbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5YCxcbiAgICBhY3Rpb25fdXJsOiBgL2NsaWVudHMvJHtjbGllbnRJZH0/dGFiPXJldmlld3NgLFxuICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5RG9jdW1lbnRHZW5lcmF0ZWQoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBjbGllbnRJZDogc3RyaW5nLFxuICBjbGllbnROYW1lOiBzdHJpbmcsXG4gIGRvY3VtZW50SWQ6IHN0cmluZyxcbiAgZG9jdW1lbnROYW1lOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBOb3RpZmljYXRpb25TZXJ2aWNlLmNyZWF0ZSh7XG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgZW50aXR5X3R5cGU6ICdkb2N1bWVudCcsXG4gICAgZW50aXR5X2lkOiBkb2N1bWVudElkLFxuICAgIHR5cGU6ICdkb2N1bWVudF9nZW5lcmF0ZWQnLFxuICAgIHRpdGxlOiBgRG9jdW1lbnQgcmVhZHk6ICR7ZG9jdW1lbnROYW1lfWAsXG4gICAgbWVzc2FnZTogYFJlcG9ydCBnZW5lcmF0ZWQgZm9yICR7Y2xpZW50TmFtZX1gLFxuICAgIGFjdGlvbl91cmw6IGAvZG9jdW1lbnRzLyR7ZG9jdW1lbnRJZH1gLFxuICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5U2lnbmF0dXJlQ29tcGxldGVkKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgY2xpZW50SWQ6IHN0cmluZyxcbiAgY2xpZW50TmFtZTogc3RyaW5nLFxuICBkb2N1bWVudElkOiBzdHJpbmcsXG4gIGRvY3VtZW50TmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgTm90aWZpY2F0aW9uU2VydmljZS5jcmVhdGUoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgIGVudGl0eV90eXBlOiAnc2lnbmF0dXJlJyxcbiAgICBlbnRpdHlfaWQ6IGRvY3VtZW50SWQsXG4gICAgdHlwZTogJ3NpZ25hdHVyZV9jb21wbGV0ZWQnLFxuICAgIHRpdGxlOiBgRG9jdW1lbnQgc2lnbmVkOiAke2RvY3VtZW50TmFtZX1gLFxuICAgIG1lc3NhZ2U6IGAke2NsaWVudE5hbWV9IGhhcyBzaWduZWQgdGhlIGRvY3VtZW50YCxcbiAgICBhY3Rpb25fdXJsOiBgL2RvY3VtZW50cy8ke2RvY3VtZW50SWR9YCxcbiAgICBwcmlvcml0eTogJ25vcm1hbCdcbiAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeUFzc2Vzc21lbnRDb21wbGV0ZWQoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBjbGllbnRJZDogc3RyaW5nLFxuICBjbGllbnROYW1lOiBzdHJpbmcsXG4gIGFzc2Vzc21lbnRJZDogc3RyaW5nLFxuICBhc3Nlc3NtZW50VHlwZTogc3RyaW5nLFxuICBmaXJtSWQ/OiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBOb3RpZmljYXRpb25TZXJ2aWNlLmNyZWF0ZSh7XG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIGZpcm1faWQ6IGZpcm1JZCxcbiAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgIGVudGl0eV90eXBlOiAnYXNzZXNzbWVudCcsXG4gICAgZW50aXR5X2lkOiBhc3Nlc3NtZW50SWQsXG4gICAgdHlwZTogJ2Fzc2Vzc21lbnRfY29tcGxldGVkJyxcbiAgICB0aXRsZTogYEFzc2Vzc21lbnQgY29tcGxldGVkOiAke2NsaWVudE5hbWV9YCxcbiAgICBtZXNzYWdlOiBgJHthc3Nlc3NtZW50VHlwZX0gYXNzZXNzbWVudCBoYXMgYmVlbiBjb21wbGV0ZWQgYW5kIGlzIHJlYWR5IGZvciByZXZpZXdgLFxuICAgIGFjdGlvbl91cmw6IGAvY2xpZW50cy8ke2NsaWVudElkfT90YWI9cmlza2AsXG4gICAgcHJpb3JpdHk6ICdoaWdoJ1xuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5Q2xpZW50QWRkZWQoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBjbGllbnRJZDogc3RyaW5nLFxuICBjbGllbnROYW1lOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBOb3RpZmljYXRpb25TZXJ2aWNlLmNyZWF0ZSh7XG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgZW50aXR5X3R5cGU6ICdjbGllbnQnLFxuICAgIGVudGl0eV9pZDogY2xpZW50SWQsXG4gICAgdHlwZTogJ2NsaWVudF9hZGRlZCcsXG4gICAgdGl0bGU6IGBOZXcgY2xpZW50OiAke2NsaWVudE5hbWV9YCxcbiAgICBtZXNzYWdlOiBgQ2xpZW50IHByb2ZpbGUgaGFzIGJlZW4gY3JlYXRlZGAsXG4gICAgYWN0aW9uX3VybDogYC9jbGllbnRzLyR7Y2xpZW50SWR9YCxcbiAgICBwcmlvcml0eTogJ2xvdydcbiAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeUNvbXBsaWFuY2VBbGVydChcbiAgdXNlcklkOiBzdHJpbmcsXG4gIHRpdGxlOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgYWN0aW9uVXJsOiBzdHJpbmcsXG4gIGNsaWVudElkPzogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgTm90aWZpY2F0aW9uU2VydmljZS5jcmVhdGUoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgIHR5cGU6ICdjb21wbGlhbmNlX2FsZXJ0JyxcbiAgICB0aXRsZSxcbiAgICBtZXNzYWdlLFxuICAgIGFjdGlvbl91cmw6IGFjdGlvblVybCxcbiAgICBwcmlvcml0eTogJ3VyZ2VudCdcbiAgfSlcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IHVzZXIncyBmaXJtX2lkIGZvciBmaXJtLXdpZGUgbm90aWZpY2F0aW9uc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXRVc2VyRmlybUlkKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQoKVxuICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAuc2VsZWN0KCdmaXJtX2lkJylcbiAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgIC5zaW5nbGUoKVxuICByZXR1cm4gcHJvZmlsZT8uZmlybV9pZCA/PyB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeVByb2ZpbGVVcGRhdGVkKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgY2xpZW50SWQ6IHN0cmluZyxcbiAgY2xpZW50TmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc29sZS5sb2coJ1tOb3RpZmljYXRpb25dIENyZWF0aW5nIHByb2ZpbGVfdXBkYXRlZCBub3RpZmljYXRpb24nLCB7IHVzZXJJZCwgY2xpZW50SWQsIGNsaWVudE5hbWUgfSlcbiAgY29uc3QgZmlybUlkID0gYXdhaXQgZ2V0VXNlckZpcm1JZCh1c2VySWQpXG4gIGNvbnNvbGUubG9nKCdbTm90aWZpY2F0aW9uXSBHb3QgZmlybV9pZDonLCBmaXJtSWQpXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE5vdGlmaWNhdGlvblNlcnZpY2UuY3JlYXRlKHtcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgZmlybV9pZDogZmlybUlkLFxuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgZW50aXR5X3R5cGU6ICdjbGllbnQnLFxuICAgIGVudGl0eV9pZDogY2xpZW50SWQsXG4gICAgdHlwZTogJ3Byb2ZpbGVfdXBkYXRlZCcsXG4gICAgdGl0bGU6IGBQcm9maWxlIHVwZGF0ZWQ6ICR7Y2xpZW50TmFtZX1gLFxuICAgIG1lc3NhZ2U6IGBDbGllbnQgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkYCxcbiAgICBhY3Rpb25fdXJsOiBgL2NsaWVudHMvJHtjbGllbnRJZH1gLFxuICAgIHByaW9yaXR5OiAnbG93J1xuICB9KVxuICBjb25zb2xlLmxvZygnW05vdGlmaWNhdGlvbl0gUmVzdWx0OicsIHJlc3VsdCA/ICdjcmVhdGVkJyA6ICdkZWR1cGxpY2F0ZWQgb3IgZmFpbGVkJylcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeUFUUkNvbXBsZXRlZChcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGNsaWVudElkOiBzdHJpbmcsXG4gIGNsaWVudE5hbWU6IHN0cmluZyxcbiAgYXNzZXNzbWVudElkOiBzdHJpbmcsXG4gIHNjb3JlOiBudW1iZXJcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBmaXJtSWQgPSBhd2FpdCBnZXRVc2VyRmlybUlkKHVzZXJJZClcbiAgYXdhaXQgTm90aWZpY2F0aW9uU2VydmljZS5jcmVhdGUoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICBmaXJtX2lkOiBmaXJtSWQsXG4gICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICBlbnRpdHlfdHlwZTogJ2Fzc2Vzc21lbnQnLFxuICAgIGVudGl0eV9pZDogYXNzZXNzbWVudElkLFxuICAgIHR5cGU6ICdhdHJfY29tcGxldGVkJyxcbiAgICB0aXRsZTogYEFUUiBjb21wbGV0ZWQ6ICR7Y2xpZW50TmFtZX1gLFxuICAgIG1lc3NhZ2U6IGBSaXNrIGFzc2Vzc21lbnQgY29tcGxldGVkIHdpdGggc2NvcmUgJHtzY29yZX1gLFxuICAgIGFjdGlvbl91cmw6IGAvY2xpZW50cy8ke2NsaWVudElkfT90YWI9cmlza2AsXG4gICAgcHJpb3JpdHk6ICdub3JtYWwnXG4gIH0pXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub3RpZnlTdHJlc3NUZXN0Q29tcGxldGVkKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgY2xpZW50SWQ6IHN0cmluZyxcbiAgY2xpZW50TmFtZTogc3RyaW5nLFxuICB0ZXN0SWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGZpcm1JZCA9IGF3YWl0IGdldFVzZXJGaXJtSWQodXNlcklkKVxuICBhd2FpdCBOb3RpZmljYXRpb25TZXJ2aWNlLmNyZWF0ZSh7XG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIGZpcm1faWQ6IGZpcm1JZCxcbiAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgIGVudGl0eV90eXBlOiAnc2ltdWxhdGlvbicsXG4gICAgZW50aXR5X2lkOiB0ZXN0SWQsXG4gICAgdHlwZTogJ3N0cmVzc190ZXN0X2NvbXBsZXRlZCcsXG4gICAgdGl0bGU6IGBTdHJlc3MgdGVzdCBjb21wbGV0ZWQ6ICR7Y2xpZW50TmFtZX1gLFxuICAgIG1lc3NhZ2U6IGBQb3J0Zm9saW8gc3RyZXNzIHRlc3QgYW5hbHlzaXMgaXMgcmVhZHlgLFxuICAgIGFjdGlvbl91cmw6IGAvY2xpZW50cy8ke2NsaWVudElkfT90YWI9c3RyZXNzLXRlc3RpbmdgLFxuICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5TW9udGVDYXJsb0NvbXBsZXRlZChcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGNsaWVudElkOiBzdHJpbmcsXG4gIGNsaWVudE5hbWU6IHN0cmluZyxcbiAgc2ltdWxhdGlvbklkOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBmaXJtSWQgPSBhd2FpdCBnZXRVc2VyRmlybUlkKHVzZXJJZClcbiAgYXdhaXQgTm90aWZpY2F0aW9uU2VydmljZS5jcmVhdGUoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICBmaXJtX2lkOiBmaXJtSWQsXG4gICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICBlbnRpdHlfdHlwZTogJ3NpbXVsYXRpb24nLFxuICAgIGVudGl0eV9pZDogc2ltdWxhdGlvbklkLFxuICAgIHR5cGU6ICdtb250ZV9jYXJsb19jb21wbGV0ZWQnLFxuICAgIHRpdGxlOiBgTW9udGUgQ2FybG8gY29tcGxldGVkOiAke2NsaWVudE5hbWV9YCxcbiAgICBtZXNzYWdlOiBgUG9ydGZvbGlvIHNpbXVsYXRpb24gYW5hbHlzaXMgaXMgcmVhZHlgLFxuICAgIGFjdGlvbl91cmw6IGAvY2xpZW50cy8ke2NsaWVudElkfT90YWI9bW9udGUtY2FybG9gLFxuICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5RG9jdW1lbnREb3dubG9hZGVkKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgY2xpZW50SWQ6IHN0cmluZyxcbiAgY2xpZW50TmFtZTogc3RyaW5nLFxuICBkb2N1bWVudElkOiBzdHJpbmcsXG4gIGRvY3VtZW50TmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZmlybUlkID0gYXdhaXQgZ2V0VXNlckZpcm1JZCh1c2VySWQpXG4gIGF3YWl0IE5vdGlmaWNhdGlvblNlcnZpY2UuY3JlYXRlKHtcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgZmlybV9pZDogZmlybUlkLFxuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgZW50aXR5X3R5cGU6ICdkb2N1bWVudCcsXG4gICAgZW50aXR5X2lkOiBkb2N1bWVudElkLFxuICAgIHR5cGU6ICdkb2N1bWVudF9kb3dubG9hZGVkJyxcbiAgICB0aXRsZTogYERvY3VtZW50IGRvd25sb2FkZWQ6ICR7ZG9jdW1lbnROYW1lfWAsXG4gICAgbWVzc2FnZTogYERvY3VtZW50IGZvciAke2NsaWVudE5hbWV9IHdhcyBkb3dubG9hZGVkYCxcbiAgICBhY3Rpb25fdXJsOiBgL2RvY3VtZW50cy8ke2RvY3VtZW50SWR9YCxcbiAgICBwcmlvcml0eTogJ2xvdydcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJnZXRTdXBhYmFzZVNlcnZpY2VDbGllbnQiLCJOT1RJRklDQVRJT05fQ09ORklHIiwiREVEVVBFX1dJTkRPV19IT1VSUyIsImRvY3VtZW50X2dlbmVyYXRlZCIsImRvY3VtZW50X3JlYWR5IiwiZG9jdW1lbnRfZG93bmxvYWRlZCIsImFzc2Vzc21lbnRfY29tcGxldGVkIiwiYXNzZXNzbWVudF9zdWJtaXR0ZWQiLCJhdHJfY29tcGxldGVkIiwicHJvZmlsZV91cGRhdGVkIiwic3RyZXNzX3Rlc3RfY29tcGxldGVkIiwibW9udGVfY2FybG9fY29tcGxldGVkIiwic2lnbmF0dXJlX2NvbXBsZXRlZCIsInNpZ25hdHVyZV9yZXF1ZXN0ZWQiLCJzaWduYXR1cmVfcmVtaW5kZXIiLCJyZXZpZXdfZHVlIiwicmV2aWV3X2NvbXBsZXRlZCIsInJldmlld19vdmVyZHVlIiwiY2xpZW50X2FkZGVkIiwiY29tcGxpYW5jZV9hbGVydCIsIk5vdGlmaWNhdGlvblNlcnZpY2UiLCJjcmVhdGUiLCJpbnB1dCIsInN1cGFiYXNlIiwicHJpb3JpdHkiLCJ0eXBlIiwiZGVmYXVsdFByaW9yaXR5IiwiZGVkdXBlSG91cnMiLCJlbnRpdHlfaWQiLCJjdXRvZmYiLCJEYXRlIiwibm93IiwidG9JU09TdHJpbmciLCJxdWVyeSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInVzZXJfaWQiLCJndGUiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwiZW50aXR5X3R5cGUiLCJkYXRhIiwiZXhpc3RpbmciLCJlcnJvciIsImV4aXN0aW5nRXJyb3IiLCJtYXliZVNpbmdsZSIsImNvbnNvbGUiLCJ3YXJuIiwiaW5zZXJ0IiwicmVhZCIsInNpbmdsZSIsImNyZWF0ZUJ1bGsiLCJ1c2VySWRzIiwibm90aWZpY2F0aW9ucyIsIm1hcCIsImxlbmd0aCIsImdldEZvclVzZXIiLCJ1c2VySWQiLCJvcHRpb25zIiwib2Zmc2V0IiwidW5yZWFkT25seSIsImJlZm9yZSIsImZpcm1JZCIsInByb2ZpbGUiLCJmaXJtX2lkIiwidW5kZWZpbmVkIiwiY291bnQiLCJvciIsImx0IiwicmFuZ2UiLCJiYXNlTWVzc2FnZSIsImlzTWlzc2luZ1RhYmxlRXJyb3IiLCJlcnIiLCJFcnJvciIsImNvZGUiLCJjYXVzZSIsInVucmVhZFF1ZXJ5IiwiaGVhZCIsInVucmVhZENvdW50IiwidW5yZWFkRXJyb3IiLCJ0b3RhbCIsInVucmVhZCIsImdldFVucmVhZENvdW50IiwicmVzb2x2ZWRGaXJtSWQiLCJtYXJrQXNSZWFkIiwibm90aWZpY2F0aW9uSWQiLCJ1cGRhdGUiLCJyZWFkX2F0IiwibWFya0FsbEFzUmVhZCIsImRlbGV0ZSIsImNsZWFudXAiLCJkYXlzT2xkIiwiY3V0b2ZmRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwibWVzc2FnZSIsImRldGFpbHMiLCJjb21iaW5lZCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJub3RpZnlSZXZpZXdEdWUiLCJjbGllbnRJZCIsImNsaWVudE5hbWUiLCJyZXZpZXdJZCIsImR1ZURhdGUiLCJjbGllbnRfaWQiLCJ0aXRsZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImFjdGlvbl91cmwiLCJub3RpZnlSZXZpZXdPdmVyZHVlIiwibm90aWZ5UmV2aWV3Q29tcGxldGVkIiwibm90aWZ5RG9jdW1lbnRHZW5lcmF0ZWQiLCJkb2N1bWVudElkIiwiZG9jdW1lbnROYW1lIiwibm90aWZ5U2lnbmF0dXJlQ29tcGxldGVkIiwibm90aWZ5QXNzZXNzbWVudENvbXBsZXRlZCIsImFzc2Vzc21lbnRJZCIsImFzc2Vzc21lbnRUeXBlIiwibm90aWZ5Q2xpZW50QWRkZWQiLCJub3RpZnlDb21wbGlhbmNlQWxlcnQiLCJhY3Rpb25VcmwiLCJnZXRVc2VyRmlybUlkIiwibm90aWZ5UHJvZmlsZVVwZGF0ZWQiLCJsb2ciLCJyZXN1bHQiLCJub3RpZnlBVFJDb21wbGV0ZWQiLCJzY29yZSIsIm5vdGlmeVN0cmVzc1Rlc3RDb21wbGV0ZWQiLCJ0ZXN0SWQiLCJub3RpZnlNb250ZUNhcmxvQ29tcGxldGVkIiwic2ltdWxhdGlvbklkIiwibm90aWZ5RG9jdW1lbnREb3dubG9hZGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/notifications/notificationService.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nasync function createClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://maandodhonjolrmcxivo.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYW5kb2Rob25qb2xybWN4aXZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NDg3NjIsImV4cCI6MjA2NDEyNDc2Mn0.Ku89ldqO_b1ptFBQFtQPhzmmnrg04LpcMeCw21sjlAE\", {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                try {\n                    cookiesToSet.forEach(({ name, value, options })=>{\n                        cookieStore.set(name, value, options);\n                    });\n                } catch  {\n                // Server components can't set cookies\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0Q7QUFDWjtBQUcvQixlQUFlRTtJQUNwQixNQUFNQyxjQUFjLE1BQU1GLHFEQUFPQTtJQUVqQyxPQUFPRCxpRUFBa0JBLENBQ3ZCSSwwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztRQUNFSCxTQUFTO1lBQ1BPO2dCQUNFLE9BQU9MLFlBQVlLLE1BQU07WUFDM0I7WUFDQUMsUUFBT0MsWUFBNkQ7Z0JBQ2xFLElBQUk7b0JBQ0ZBLGFBQWFDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUU7d0JBQzVDWCxZQUFZWSxHQUFHLENBQUNILE1BQU1DLE9BQU9DO29CQUMvQjtnQkFDRixFQUFFLE9BQU07Z0JBQ04sc0NBQXNDO2dCQUN4QztZQUNGO1FBQ0Y7SUFDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm5ldGljLXBsYXRmb3JtLy4vc3JjL2xpYi9zdXBhYmFzZS9zZXJ2ZXIudHM/MmU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcbmltcG9ydCB0eXBlIHsgRGF0YWJhc2UgfSBmcm9tICdAL3R5cGVzL2RiJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KCkge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKVxuXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQ8RGF0YWJhc2U+KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgIHtcbiAgICAgIGNvb2tpZXM6IHtcbiAgICAgICAgZ2V0QWxsKCkge1xuICAgICAgICAgIHJldHVybiBjb29raWVTdG9yZS5nZXRBbGwoKVxuICAgICAgICB9LFxuICAgICAgICBzZXRBbGwoY29va2llc1RvU2V0OiB7IG5hbWU6IHN0cmluZzsgdmFsdWU6IHN0cmluZzsgb3B0aW9uczogYW55IH1bXSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBTZXJ2ZXIgY29tcG9uZW50cyBjYW4ndCBzZXQgY29va2llc1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICApXG59Il0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsImNvb2tpZXMiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/serviceClient.ts":
/*!*******************************************!*\
  !*** ./src/lib/supabase/serviceClient.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSupabaseServiceClient: () => (/* binding */ getSupabaseServiceClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nfunction getSupabaseServiceClient() {\n    const url = \"https://maandodhonjolrmcxivo.supabase.co\";\n    const key = process.env.SUPABASE_SERVICE_ROLE_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYW5kb2Rob25qb2xybWN4aXZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NDg3NjIsImV4cCI6MjA2NDEyNDc2Mn0.Ku89ldqO_b1ptFBQFtQPhzmmnrg04LpcMeCw21sjlAE\";\n    if (!url || !key) {\n        throw new Error(\"Supabase credentials are not configured\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, key);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZpY2VDbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0Q7QUFHN0MsU0FBU0M7SUFDZCxNQUFNQyxNQUFNQywwQ0FBb0M7SUFDaEQsTUFBTUcsTUFBTUgsUUFBUUMsR0FBRyxDQUFDRyx5QkFBeUIsSUFBSUosa05BQXlDO0lBRTlGLElBQUksQ0FBQ0QsT0FBTyxDQUFDSSxLQUFLO1FBQ2hCLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtJQUVBLE9BQU9ULG1FQUFZQSxDQUFXRSxLQUFLSTtBQUNyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5uZXRpYy1wbGF0Zm9ybS8uL3NyYy9saWIvc3VwYWJhc2Uvc2VydmljZUNsaWVudC50cz84MDdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcbmltcG9ydCB0eXBlIHsgRGF0YWJhc2UgfSBmcm9tICdAL3R5cGVzL2RiJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwYWJhc2VTZXJ2aWNlQ2xpZW50KCkge1xuICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxuXG4gIGlmICghdXJsIHx8ICFrZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNyZWRlbnRpYWxzIGFyZSBub3QgY29uZmlndXJlZCcpXG4gIH1cblxuICByZXR1cm4gY3JlYXRlQ2xpZW50PERhdGFiYXNlPih1cmwsIGtleSlcbn1cblxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImdldFN1cGFiYXNlU2VydmljZUNsaWVudCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJrZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/serviceClient.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/notifications.ts":
/*!************************************!*\
  !*** ./src/types/notifications.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NOTIFICATION_CONFIG: () => (/* binding */ NOTIFICATION_CONFIG)\n/* harmony export */ });\n// =====================================================\n// NOTIFICATION TYPES\n// =====================================================\nconst NOTIFICATION_CONFIG = {\n    client_added: {\n        icon: \"UserPlus\",\n        defaultPriority: \"low\",\n        category: \"clients\"\n    },\n    profile_updated: {\n        icon: \"UserCog\",\n        defaultPriority: \"low\",\n        category: \"clients\"\n    },\n    review_due: {\n        icon: \"Calendar\",\n        defaultPriority: \"normal\",\n        category: \"reviews\"\n    },\n    review_overdue: {\n        icon: \"AlertTriangle\",\n        defaultPriority: \"high\",\n        category: \"reviews\"\n    },\n    review_completed: {\n        icon: \"CheckCircle\",\n        defaultPriority: \"normal\",\n        category: \"reviews\"\n    },\n    document_generated: {\n        icon: \"FileText\",\n        defaultPriority: \"normal\",\n        category: \"documents\"\n    },\n    document_ready: {\n        icon: \"FileCheck\",\n        defaultPriority: \"normal\",\n        category: \"documents\"\n    },\n    document_downloaded: {\n        icon: \"Download\",\n        defaultPriority: \"low\",\n        category: \"documents\"\n    },\n    signature_requested: {\n        icon: \"PenTool\",\n        defaultPriority: \"normal\",\n        category: \"signatures\"\n    },\n    signature_completed: {\n        icon: \"CheckSquare\",\n        defaultPriority: \"normal\",\n        category: \"signatures\"\n    },\n    signature_reminder: {\n        icon: \"Clock\",\n        defaultPriority: \"high\",\n        category: \"signatures\"\n    },\n    assessment_submitted: {\n        icon: \"ClipboardCheck\",\n        defaultPriority: \"normal\",\n        category: \"assessments\"\n    },\n    assessment_completed: {\n        icon: \"Award\",\n        defaultPriority: \"normal\",\n        category: \"assessments\"\n    },\n    atr_completed: {\n        icon: \"ClipboardCheck\",\n        defaultPriority: \"normal\",\n        category: \"assessments\"\n    },\n    stress_test_completed: {\n        icon: \"Calculator\",\n        defaultPriority: \"normal\",\n        category: \"simulations\"\n    },\n    monte_carlo_completed: {\n        icon: \"TrendingUp\",\n        defaultPriority: \"normal\",\n        category: \"simulations\"\n    },\n    compliance_alert: {\n        icon: \"Shield\",\n        defaultPriority: \"urgent\",\n        category: \"compliance\"\n    },\n    system: {\n        icon: \"Bell\",\n        defaultPriority: \"normal\",\n        category: \"system\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvbm90aWZpY2F0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsd0RBQXdEO0FBQ3hELHFCQUFxQjtBQUNyQix3REFBd0Q7QUErRmpELE1BQU1BLHNCQUF3RTtJQUNuRkMsY0FBYztRQUFFQyxNQUFNO1FBQVlDLGlCQUFpQjtRQUFPQyxVQUFVO0lBQVU7SUFDOUVDLGlCQUFpQjtRQUFFSCxNQUFNO1FBQVdDLGlCQUFpQjtRQUFPQyxVQUFVO0lBQVU7SUFDaEZFLFlBQVk7UUFBRUosTUFBTTtRQUFZQyxpQkFBaUI7UUFBVUMsVUFBVTtJQUFVO0lBQy9FRyxnQkFBZ0I7UUFBRUwsTUFBTTtRQUFpQkMsaUJBQWlCO1FBQVFDLFVBQVU7SUFBVTtJQUN0Rkksa0JBQWtCO1FBQUVOLE1BQU07UUFBZUMsaUJBQWlCO1FBQVVDLFVBQVU7SUFBVTtJQUN4Rkssb0JBQW9CO1FBQUVQLE1BQU07UUFBWUMsaUJBQWlCO1FBQVVDLFVBQVU7SUFBWTtJQUN6Rk0sZ0JBQWdCO1FBQUVSLE1BQU07UUFBYUMsaUJBQWlCO1FBQVVDLFVBQVU7SUFBWTtJQUN0Rk8scUJBQXFCO1FBQUVULE1BQU07UUFBWUMsaUJBQWlCO1FBQU9DLFVBQVU7SUFBWTtJQUN2RlEscUJBQXFCO1FBQUVWLE1BQU07UUFBV0MsaUJBQWlCO1FBQVVDLFVBQVU7SUFBYTtJQUMxRlMscUJBQXFCO1FBQUVYLE1BQU07UUFBZUMsaUJBQWlCO1FBQVVDLFVBQVU7SUFBYTtJQUM5RlUsb0JBQW9CO1FBQUVaLE1BQU07UUFBU0MsaUJBQWlCO1FBQVFDLFVBQVU7SUFBYTtJQUNyRlcsc0JBQXNCO1FBQUViLE1BQU07UUFBa0JDLGlCQUFpQjtRQUFVQyxVQUFVO0lBQWM7SUFDbkdZLHNCQUFzQjtRQUFFZCxNQUFNO1FBQVNDLGlCQUFpQjtRQUFVQyxVQUFVO0lBQWM7SUFDMUZhLGVBQWU7UUFBRWYsTUFBTTtRQUFrQkMsaUJBQWlCO1FBQVVDLFVBQVU7SUFBYztJQUM1RmMsdUJBQXVCO1FBQUVoQixNQUFNO1FBQWNDLGlCQUFpQjtRQUFVQyxVQUFVO0lBQWM7SUFDaEdlLHVCQUF1QjtRQUFFakIsTUFBTTtRQUFjQyxpQkFBaUI7UUFBVUMsVUFBVTtJQUFjO0lBQ2hHZ0Isa0JBQWtCO1FBQUVsQixNQUFNO1FBQVVDLGlCQUFpQjtRQUFVQyxVQUFVO0lBQWE7SUFDdEZpQixRQUFRO1FBQUVuQixNQUFNO1FBQVFDLGlCQUFpQjtRQUFVQyxVQUFVO0lBQVM7QUFDeEUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5uZXRpYy1wbGF0Zm9ybS8uL3NyYy90eXBlcy9ub3RpZmljYXRpb25zLnRzPzg1MWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5PVElGSUNBVElPTiBUWVBFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHR5cGUgeyBKc29uIH0gZnJvbSAnQC90eXBlcy9kYidcblxuZXhwb3J0IHR5cGUgTm90aWZpY2F0aW9uVHlwZSA9XG4gIHwgJ2NsaWVudF9hZGRlZCdcbiAgfCAncmV2aWV3X2R1ZSdcbiAgfCAncmV2aWV3X292ZXJkdWUnXG4gIHwgJ3Jldmlld19jb21wbGV0ZWQnXG4gIHwgJ2RvY3VtZW50X2dlbmVyYXRlZCdcbiAgfCAnZG9jdW1lbnRfcmVhZHknXG4gIHwgJ2RvY3VtZW50X2Rvd25sb2FkZWQnXG4gIHwgJ3NpZ25hdHVyZV9yZXF1ZXN0ZWQnXG4gIHwgJ3NpZ25hdHVyZV9jb21wbGV0ZWQnXG4gIHwgJ3NpZ25hdHVyZV9yZW1pbmRlcidcbiAgfCAnYXNzZXNzbWVudF9zdWJtaXR0ZWQnXG4gIHwgJ2Fzc2Vzc21lbnRfY29tcGxldGVkJ1xuICB8ICdwcm9maWxlX3VwZGF0ZWQnXG4gIHwgJ2F0cl9jb21wbGV0ZWQnXG4gIHwgJ3N0cmVzc190ZXN0X2NvbXBsZXRlZCdcbiAgfCAnbW9udGVfY2FybG9fY29tcGxldGVkJ1xuICB8ICdjb21wbGlhbmNlX2FsZXJ0J1xuICB8ICdzeXN0ZW0nXG5cbmV4cG9ydCB0eXBlIE5vdGlmaWNhdGlvblByaW9yaXR5ID0gJ2xvdycgfCAnbm9ybWFsJyB8ICdoaWdoJyB8ICd1cmdlbnQnXG5cbmV4cG9ydCB0eXBlIE5vdGlmaWNhdGlvbkVudGl0eVR5cGUgPVxuICB8ICdjbGllbnQnXG4gIHwgJ2RvY3VtZW50J1xuICB8ICdhc3Nlc3NtZW50J1xuICB8ICdyZXZpZXcnXG4gIHwgJ3NpZ25hdHVyZSdcbiAgfCAnc2ltdWxhdGlvbidcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5PVElGSUNBVElPTiBJTlRFUkZBQ0VTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbiB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nXG4gIGZpcm1faWQ/OiBzdHJpbmcgfCBudWxsXG4gIGNsaWVudF9pZD86IHN0cmluZyB8IG51bGxcbiAgZW50aXR5X3R5cGU/OiBOb3RpZmljYXRpb25FbnRpdHlUeXBlIHwgbnVsbFxuICBlbnRpdHlfaWQ/OiBzdHJpbmcgfCBudWxsXG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGVcbiAgdGl0bGU6IHN0cmluZ1xuICBtZXNzYWdlPzogc3RyaW5nIHwgbnVsbFxuICBhY3Rpb25fdXJsPzogc3RyaW5nIHwgbnVsbFxuICBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHlcbiAgcmVhZDogYm9vbGVhblxuICByZWFkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICBtZXRhZGF0YT86IEpzb24gfCBudWxsXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCB7XG4gIHVzZXJfaWQ6IHN0cmluZ1xuICBmaXJtX2lkPzogc3RyaW5nXG4gIGNsaWVudF9pZD86IHN0cmluZ1xuICBlbnRpdHlfdHlwZT86IE5vdGlmaWNhdGlvbkVudGl0eVR5cGVcbiAgZW50aXR5X2lkPzogc3RyaW5nXG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGVcbiAgdGl0bGU6IHN0cmluZ1xuICBtZXNzYWdlPzogc3RyaW5nXG4gIGFjdGlvbl91cmw/OiBzdHJpbmdcbiAgcHJpb3JpdHk/OiBOb3RpZmljYXRpb25Qcmlvcml0eVxuICBtZXRhZGF0YT86IEpzb25cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFQSSBSRVNQT05TRSBUWVBFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RpZmljYXRpb25zUmVzcG9uc2Uge1xuICBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXVxuICB0b3RhbDogbnVtYmVyXG4gIHVucmVhZDogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5yZWFkQ291bnRSZXNwb25zZSB7XG4gIGNvdW50OiBudW1iZXJcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5PVElGSUNBVElPTiBDT05GSUdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZpY2F0aW9uVHlwZUNvbmZpZyB7XG4gIGljb246IHN0cmluZ1xuICBkZWZhdWx0UHJpb3JpdHk6IE5vdGlmaWNhdGlvblByaW9yaXR5XG4gIGNhdGVnb3J5OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IE5PVElGSUNBVElPTl9DT05GSUc6IFJlY29yZDxOb3RpZmljYXRpb25UeXBlLCBOb3RpZmljYXRpb25UeXBlQ29uZmlnPiA9IHtcbiAgY2xpZW50X2FkZGVkOiB7IGljb246ICdVc2VyUGx1cycsIGRlZmF1bHRQcmlvcml0eTogJ2xvdycsIGNhdGVnb3J5OiAnY2xpZW50cycgfSxcbiAgcHJvZmlsZV91cGRhdGVkOiB7IGljb246ICdVc2VyQ29nJywgZGVmYXVsdFByaW9yaXR5OiAnbG93JywgY2F0ZWdvcnk6ICdjbGllbnRzJyB9LFxuICByZXZpZXdfZHVlOiB7IGljb246ICdDYWxlbmRhcicsIGRlZmF1bHRQcmlvcml0eTogJ25vcm1hbCcsIGNhdGVnb3J5OiAncmV2aWV3cycgfSxcbiAgcmV2aWV3X292ZXJkdWU6IHsgaWNvbjogJ0FsZXJ0VHJpYW5nbGUnLCBkZWZhdWx0UHJpb3JpdHk6ICdoaWdoJywgY2F0ZWdvcnk6ICdyZXZpZXdzJyB9LFxuICByZXZpZXdfY29tcGxldGVkOiB7IGljb246ICdDaGVja0NpcmNsZScsIGRlZmF1bHRQcmlvcml0eTogJ25vcm1hbCcsIGNhdGVnb3J5OiAncmV2aWV3cycgfSxcbiAgZG9jdW1lbnRfZ2VuZXJhdGVkOiB7IGljb246ICdGaWxlVGV4dCcsIGRlZmF1bHRQcmlvcml0eTogJ25vcm1hbCcsIGNhdGVnb3J5OiAnZG9jdW1lbnRzJyB9LFxuICBkb2N1bWVudF9yZWFkeTogeyBpY29uOiAnRmlsZUNoZWNrJywgZGVmYXVsdFByaW9yaXR5OiAnbm9ybWFsJywgY2F0ZWdvcnk6ICdkb2N1bWVudHMnIH0sXG4gIGRvY3VtZW50X2Rvd25sb2FkZWQ6IHsgaWNvbjogJ0Rvd25sb2FkJywgZGVmYXVsdFByaW9yaXR5OiAnbG93JywgY2F0ZWdvcnk6ICdkb2N1bWVudHMnIH0sXG4gIHNpZ25hdHVyZV9yZXF1ZXN0ZWQ6IHsgaWNvbjogJ1BlblRvb2wnLCBkZWZhdWx0UHJpb3JpdHk6ICdub3JtYWwnLCBjYXRlZ29yeTogJ3NpZ25hdHVyZXMnIH0sXG4gIHNpZ25hdHVyZV9jb21wbGV0ZWQ6IHsgaWNvbjogJ0NoZWNrU3F1YXJlJywgZGVmYXVsdFByaW9yaXR5OiAnbm9ybWFsJywgY2F0ZWdvcnk6ICdzaWduYXR1cmVzJyB9LFxuICBzaWduYXR1cmVfcmVtaW5kZXI6IHsgaWNvbjogJ0Nsb2NrJywgZGVmYXVsdFByaW9yaXR5OiAnaGlnaCcsIGNhdGVnb3J5OiAnc2lnbmF0dXJlcycgfSxcbiAgYXNzZXNzbWVudF9zdWJtaXR0ZWQ6IHsgaWNvbjogJ0NsaXBib2FyZENoZWNrJywgZGVmYXVsdFByaW9yaXR5OiAnbm9ybWFsJywgY2F0ZWdvcnk6ICdhc3Nlc3NtZW50cycgfSxcbiAgYXNzZXNzbWVudF9jb21wbGV0ZWQ6IHsgaWNvbjogJ0F3YXJkJywgZGVmYXVsdFByaW9yaXR5OiAnbm9ybWFsJywgY2F0ZWdvcnk6ICdhc3Nlc3NtZW50cycgfSxcbiAgYXRyX2NvbXBsZXRlZDogeyBpY29uOiAnQ2xpcGJvYXJkQ2hlY2snLCBkZWZhdWx0UHJpb3JpdHk6ICdub3JtYWwnLCBjYXRlZ29yeTogJ2Fzc2Vzc21lbnRzJyB9LFxuICBzdHJlc3NfdGVzdF9jb21wbGV0ZWQ6IHsgaWNvbjogJ0NhbGN1bGF0b3InLCBkZWZhdWx0UHJpb3JpdHk6ICdub3JtYWwnLCBjYXRlZ29yeTogJ3NpbXVsYXRpb25zJyB9LFxuICBtb250ZV9jYXJsb19jb21wbGV0ZWQ6IHsgaWNvbjogJ1RyZW5kaW5nVXAnLCBkZWZhdWx0UHJpb3JpdHk6ICdub3JtYWwnLCBjYXRlZ29yeTogJ3NpbXVsYXRpb25zJyB9LFxuICBjb21wbGlhbmNlX2FsZXJ0OiB7IGljb246ICdTaGllbGQnLCBkZWZhdWx0UHJpb3JpdHk6ICd1cmdlbnQnLCBjYXRlZ29yeTogJ2NvbXBsaWFuY2UnIH0sXG4gIHN5c3RlbTogeyBpY29uOiAnQmVsbCcsIGRlZmF1bHRQcmlvcml0eTogJ25vcm1hbCcsIGNhdGVnb3J5OiAnc3lzdGVtJyB9XG59XG4iXSwibmFtZXMiOlsiTk9USUZJQ0FUSU9OX0NPTkZJRyIsImNsaWVudF9hZGRlZCIsImljb24iLCJkZWZhdWx0UHJpb3JpdHkiLCJjYXRlZ29yeSIsInByb2ZpbGVfdXBkYXRlZCIsInJldmlld19kdWUiLCJyZXZpZXdfb3ZlcmR1ZSIsInJldmlld19jb21wbGV0ZWQiLCJkb2N1bWVudF9nZW5lcmF0ZWQiLCJkb2N1bWVudF9yZWFkeSIsImRvY3VtZW50X2Rvd25sb2FkZWQiLCJzaWduYXR1cmVfcmVxdWVzdGVkIiwic2lnbmF0dXJlX2NvbXBsZXRlZCIsInNpZ25hdHVyZV9yZW1pbmRlciIsImFzc2Vzc21lbnRfc3VibWl0dGVkIiwiYXNzZXNzbWVudF9jb21wbGV0ZWQiLCJhdHJfY29tcGxldGVkIiwic3RyZXNzX3Rlc3RfY29tcGxldGVkIiwibW9udGVfY2FybG9fY29tcGxldGVkIiwiY29tcGxpYW5jZV9hbGVydCIsInN5c3RlbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/types/notifications.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/cookie","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnotifications%2Funread-count%2Froute&page=%2Fapi%2Fnotifications%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Funread-count%2Froute.ts&appDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fadeomosanya%2FDocuments%2Fifa-professional-portal%2Fifa-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();